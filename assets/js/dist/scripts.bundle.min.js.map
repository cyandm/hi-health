{
  "version": 3,
  "sources": ["../utils/custom-events.js", "../utils/functions.js", "../modules/ajax-search.js", "../modules/loading.js", "../modules/load-more.js", "../modules/archive-filter.js", "../modules/archive-sort.js", "../modules/breadcrumb.js", "../modules/comments.js", "../modules/gallery.js", "../modules/header.js", "../modules/like-post.js", "../modules/menu.js", "../modules/scroller.js", "../modules/forms.js", "../modules/share-post.js", "../modules/show-more.js", "../../../node_modules/swiper/shared/ssr-window.esm.mjs", "../../../node_modules/swiper/shared/utils.mjs", "../../../node_modules/swiper/shared/swiper-core.mjs", "../../../node_modules/swiper/shared/create-element-if-not-defined.mjs", "../../../node_modules/swiper/shared/classes-to-selector.mjs", "../../../node_modules/swiper/modules/pagination.mjs", "../modules/story.js", "../modules/swiper.js", "../../../node_modules/delegate-it/delegate.js", "../../../node_modules/swup/src/helpers/classify.ts", "../../../node_modules/swup/src/helpers/getCurrentUrl.ts", "../../../node_modules/swup/src/helpers/history.ts", "../../../node_modules/swup/src/helpers/delegateEvent.ts", "../../../node_modules/swup/src/helpers/Location.ts", "../../../node_modules/swup/src/helpers/matchPath.ts", "../../../node_modules/swup/src/modules/fetchPage.ts", "../../../node_modules/swup/src/modules/Cache.ts", "../../../node_modules/swup/src/utils/index.ts", "../../../node_modules/swup/src/modules/Classes.ts", "../../../node_modules/swup/src/modules/Visit.ts", "../../../node_modules/swup/src/modules/Hooks.ts", "../../../node_modules/swup/src/modules/getAnchorElement.ts", "../../../node_modules/swup/src/modules/awaitAnimations.ts", "../../../node_modules/swup/src/modules/navigate.ts", "../../../node_modules/swup/src/modules/animatePageOut.ts", "../../../node_modules/swup/src/modules/replaceContent.ts", "../../../node_modules/swup/src/modules/scrollToContent.ts", "../../../node_modules/swup/src/modules/animatePageIn.ts", "../../../node_modules/swup/src/modules/renderPage.ts", "../../../node_modules/swup/src/modules/plugins.ts", "../../../node_modules/swup/src/modules/resolveUrl.ts", "../../../node_modules/swup/src/Swup.ts", "../modules/language-switcher.js", "../pages/search.js", "../modules/swup.js"],
  "sourcesContent": ["export const cynActivate = new CustomEvent('cynActivate', { bubbles: true });\r\n", "import { cynActivate } from './custom-events';\r\n\r\nexport const deActivateEl = (nodeEl) => {\r\n  nodeEl.setAttribute('data-active', 'false');\r\n  nodeEl.dispatchEvent(cynActivate);\r\n};\r\n\r\nexport const activateEl = (nodeEl) => {\r\n  nodeEl.setAttribute('data-active', 'true');\r\n  nodeEl.dispatchEvent(cynActivate);\r\n};\r\n\r\nexport const toggleActivateEl = (nodeEl) => {\r\n  const current = nodeEl.getAttribute('data-active');\r\n\r\n  if (current === 'false' || !current) {\r\n    activateEl(nodeEl);\r\n    return;\r\n  }\r\n\r\n  deActivateEl(nodeEl);\r\n};\r\n\r\nexport const deActivateAll = (parentNode) => {\r\n  parentNode.forEach((node) => {\r\n    deActivateEl(node);\r\n  });\r\n};\r\n\r\nexport const activateFirstEl = (parentNode) => {\r\n  activateEl(parentNode[0]);\r\n};\r\n\r\nexport const addListener = (elementNode, eventType, func) => {\r\n  if (elementNode.getAttribute('hasListener')) return;\r\n  elementNode.setAttribute('hasListener', true);\r\n  elementNode.addEventListener(eventType, func);\r\n};\r\n\r\nexport const definePopUp = (nodeEl) => {\r\n  nodeEl.addEventListener('cynActivate', (e) => {\r\n    if (e.target != nodeEl) return;\r\n    document.body.setAttribute('data-popup-open', e.target.dataset.active);\r\n  });\r\n\r\n  nodeEl.addEventListener('click', (e) => {\r\n    if (e.target != nodeEl) return;\r\n    deActivateEl(nodeEl);\r\n  });\r\n};\r\n\r\nexport const setUserIP = () => {\r\n  jQuery(($) => {\r\n    $.getJSON('https://api.ipify.org?format=json', ({ ip }) => {\r\n      window.localStorage.setItem('user-ip', ip);\r\n    });\r\n  });\r\n};\r\n\r\nexport const getUserIp = () => window.localStorage.getItem('user-ip');\r\n\r\nexport const setCookie = (cookieName, cookieValue, expireDays) => {\r\n  const d = new Date();\r\n  d.setTime(d.getTime() + expireDays * 24 * 60 * 60 * 1000);\r\n  let expires = 'expires=' + d.toUTCString();\r\n  document.cookie =\r\n    cookieName + '=' + JSON.stringify(cookieValue) + ';' + expires + ';path=/';\r\n};\r\n\r\nexport const getCookie = (cookieName) => {\r\n  let name = cookieName + '=';\r\n  let decodedCookie = decodeURIComponent(document.cookie);\r\n  let ca = decodedCookie.split(';');\r\n  for (let i = 0; i < ca.length; i++) {\r\n    let c = ca[i];\r\n    while (c.charAt(0) == ' ') {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return JSON.parse(c.substring(name.length, c.length));\r\n    }\r\n  }\r\n  return JSON.parse('{}');\r\n};\r\n\r\nexport const showMassage = (status, parentEl, innerText = null) => {\r\n  const span = document.createElement('span');\r\n  span.classList.add('message');\r\n  span.classList.add(status);\r\n\r\n  if (status === 'success') {\r\n    span.innerText = innerText ?? '\u0639\u0645\u0644\u06CC\u0627\u062A \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0646\u062C\u0627\u0645 \u0634\u062F';\r\n    return;\r\n  }\r\n\r\n  if (status === 'warning') {\r\n    span.innerText = innerText ?? '\u0639\u0645\u0644\u06CC\u0627\u062A \u062F\u0631 \u0627\u0646\u062A\u0638\u0627\u0631 \u062A\u0627\u06CC\u06CC\u062F \u0627\u062F\u0645\u06CC\u0646 \u0627\u0633\u062A';\r\n    return;\r\n  }\r\n\r\n  if (status === 'error') {\r\n    span.innerText = innerText ?? '\u0639\u0645\u0644\u06CC\u0627\u062A \u0628\u0627 \u062E\u0637\u0627 \u0645\u0648\u0627\u062C\u0647 \u0634\u062F';\r\n    return;\r\n  }\r\n\r\n  parentEl.appendChild(span);\r\n};\r\n\r\nexport const changeButtonStatus = (status, btn) => {\r\n  if (status === 'pending') {\r\n    btn.classList.add('pending');\r\n    btn.innerText = translateStrings.Btn.pending;\r\n    return;\r\n  }\r\n\r\n  if (status === 'success') {\r\n    btn.classList.remove('pending');\r\n    btn.classList.add('success');\r\n    btn.innerText = translateStrings.Btn.success;\r\n    return;\r\n  }\r\n\r\n  if (status === 'error') {\r\n    btn.classList.remove('pending');\r\n    btn.classList.add('error');\r\n    btn.innerText = translateStrings.Btn.error;\r\n    return;\r\n  }\r\n};\r\n", "import { activateEl, addListener, deActivateEl } from '../utils/functions';\r\n\r\nexport const ajaxSearch = () => {\r\n  const searchForm = document.getElementById('searchForm');\r\n  const searchInput = document.getElementById('searchInput');\r\n  const ajaxSearchResultWrapper = document.getElementById(\r\n    'ajaxSearchResultWrapper'\r\n  );\r\n  const ajaxSearchResult = document.getElementById('ajaxSearchResult');\r\n  const ajaxSearchLoading = document.getElementById('ajaxSearchLoading');\r\n  const ajaxSearchViewAll = document.getElementById('ajaxSearchViewAll');\r\n  const ajaxSearchClose = document.getElementById('ajaxSearchClose');\r\n\r\n  if (!searchInput) return;\r\n  if (!searchForm) return;\r\n  let timeOut;\r\n\r\n  addListener(searchInput, 'keyup', (e) => {\r\n    activateEl(ajaxSearchLoading);\r\n    activateEl(ajaxSearchResultWrapper);\r\n\r\n    const value = e.target.value;\r\n\r\n    if (value === '' || value.length <= 3) {\r\n      deActivateEl(ajaxSearchLoading);\r\n      return;\r\n    }\r\n\r\n    clearTimeout(timeOut);\r\n\r\n    timeOut = setTimeout(() => {\r\n      jQuery(($) => {\r\n        $.ajax({\r\n          type: 'post',\r\n          url: cyn_head_script.url,\r\n          data: {\r\n            _nonce: cyn_head_script.nonce,\r\n            action: 'cyn_ajax_search',\r\n            value,\r\n            postType: e.target.dataset.postType,\r\n          },\r\n\r\n          success: (response) => {\r\n            ajaxSearchResult.innerHTML = response.html;\r\n\r\n            if (response.foundPosts < 3) {\r\n              deActivateEl(ajaxSearchViewAll);\r\n            } else {\r\n              activateEl(ajaxSearchViewAll);\r\n            }\r\n\r\n            deActivateEl(ajaxSearchLoading);\r\n          },\r\n        });\r\n      });\r\n    }, 500);\r\n  });\r\n\r\n  addListener(ajaxSearchViewAll, 'click', (e) => {\r\n    searchForm.dispatchEvent(\r\n      new Event('submit', { cancelable: true, bubbles: true })\r\n    );\r\n  });\r\n\r\n  addListener(ajaxSearchClose, 'click', (e) => {\r\n    deActivateEl(ajaxSearchResultWrapper);\r\n  });\r\n};\r\n", "import { activateEl, deActivateEl, definePopUp } from '../utils/functions';\r\n\r\nexport const loading = document.getElementById('loading');\r\n\r\nif (loading) {\r\n  definePopUp(loading);\r\n}\r\n\r\nexport const startLoading = () => {\r\n  activateEl(loading);\r\n};\r\n\r\nexport const endLoading = () => {\r\n  deActivateEl(loading);\r\n};\r\n", "import { endLoading, startLoading } from './loading';\r\n\r\nexport const loadMore = () => {\r\n  const loadMoreBTN = document.getElementById('loadMoreBTN');\r\n  if (!loadMoreBTN) return;\r\n\r\n  loadMoreBTN.addEventListener('click', ({ target: { dataset } }) => {\r\n    startLoading();\r\n\r\n    jQuery(($) => {\r\n      $.ajax({\r\n        type: 'get',\r\n        url: cyn_head_script.url,\r\n        data: {\r\n          action: 'cyn_load_more',\r\n          _nonce: cyn_head_script.nonce,\r\n          ...dataset,\r\n        },\r\n\r\n        success: (res) => {\r\n          $('.posts-container').append(res.data.html);\r\n\r\n          loadMoreBTN.setAttribute(\r\n            'data-current-page',\r\n            parseInt(dataset.currentPage) + 1\r\n          );\r\n\r\n          if (\r\n            res.data.max_num_pages == parseInt(dataset.currentPage) ||\r\n            res.data.html == ''\r\n          ) {\r\n            loadMoreBTN.setAttribute('disable', true);\r\n          }\r\n\r\n          endLoading();\r\n        },\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nexport const initLoadMore = (postType, maxNumPages, queryArgs = []) => {\r\n  const loadMoreBTN = document.getElementById('loadMoreBTN');\r\n  if (!loadMoreBTN) return;\r\n\r\n  loadMoreBTN.setAttribute('data-current-page', 1);\r\n  loadMoreBTN.setAttribute('disable', maxNumPages === 1);\r\n  loadMoreBTN.setAttribute('data-post-type', postType);\r\n\r\n  queryArgs.forEach((arg) => {\r\n    loadMoreBTN.setAttribute(\r\n      `data-${Object.keys(arg)[0]}`,\r\n      Object.values(arg)[0]\r\n    );\r\n  });\r\n};\r\n", "import { endLoading, startLoading } from './loading';\r\nimport { initLoadMore } from './load-more';\r\n\r\nexport const archiveFilter = () => {\r\n  const selectFilter = document.getElementById('selectFilter');\r\n  const postsContainer = document.querySelector('.posts-container');\r\n\r\n  if (!selectFilter) return;\r\n  if (!postsContainer) return;\r\n\r\n  selectFilter.addEventListener(\r\n    'change',\r\n    ({ target: { value: slug, dataset } }) => {\r\n      startLoading();\r\n\r\n      jQuery(($) => {\r\n        $.ajax({\r\n          type: 'get',\r\n          url: cyn_head_script.url,\r\n\r\n          data: {\r\n            action: 'cyn_filter_posts',\r\n            _nonce: cyn_head_script.nonce,\r\n            slug,\r\n            ...dataset,\r\n          },\r\n\r\n          success: (res) => {\r\n            postsContainer.innerHTML = res.data.html;\r\n\r\n            initLoadMore(dataset.postType, res.data.max_num_pages, [\r\n              { slug },\r\n              { taxonomy: dataset.taxonomy },\r\n            ]);\r\n            endLoading();\r\n          },\r\n        });\r\n      });\r\n    }\r\n  );\r\n};\r\n", "import { initLoadMore } from './load-more';\r\nimport { endLoading, startLoading } from './loading';\r\n\r\nexport const archiveSort = () => {\r\n  const radioInputs = document.querySelectorAll('input[name=\"sort-filter\"]');\r\n  const postsContainer = document.querySelector('.posts-container');\r\n  const postsCount = document.getElementById('postsCount');\r\n\r\n  if (!radioInputs) return;\r\n  if (!postsContainer) return;\r\n\r\n  radioInputs.forEach((input) => {\r\n    input.addEventListener(\r\n      'change',\r\n      ({\r\n        target: {\r\n          dataset: { order, postType, meta },\r\n        },\r\n      }) => {\r\n        startLoading();\r\n\r\n        jQuery(($) => {\r\n          $.ajax({\r\n            type: 'post',\r\n            url: cyn_head_script.url,\r\n\r\n            data: {\r\n              action: 'cyn_sort_posts',\r\n              _nonce: cyn_head_script.nonce,\r\n              meta,\r\n              order,\r\n              postType,\r\n            },\r\n\r\n            success: (res) => {\r\n              postsContainer.innerHTML = res.data.html;\r\n              postsCount.innerHTML = res.data.posts_count;\r\n\r\n              initLoadMore(postType, res.data.max_num_pages, [\r\n                { meta },\r\n                { order },\r\n              ]);\r\n              endLoading();\r\n            },\r\n          });\r\n        });\r\n      }\r\n    );\r\n  });\r\n};\r\n", "export const logicBreadcrumb = () => {\r\n  const breadcrumb = document.querySelector('.breadcrumb');\r\n\r\n  if (!breadcrumb) return;\r\n  const separatorGroup = document.querySelectorAll('.separator');\r\n\r\n  separatorGroup.forEach((separator) => {\r\n    const iElement = document.createElement('i');\r\n    iElement.classList.add('icon-arrow-left');\r\n    separator.innerHTML = '';\r\n    separator.appendChild(iElement);\r\n  });\r\n};\r\n", "import {\r\n\tactivateEl,\r\n\taddListener,\r\n\tdeActivateEl,\r\n\tdefinePopUp,\r\n} from '../utils/functions';\r\n\r\nexport const Comments = () => {\r\n\t/* Open and Close Comment List */\r\n\tconst commentOpener = document.getElementById('commentOpener');\r\n\tconst commentOpenerIcon = document.getElementById('commentOpenerIcon');\r\n\tconst commentList = document.getElementById('commentList');\r\n\tconst commentCloser = document.getElementById('commentCloser');\r\n\r\n\tif (!commentOpener) return;\r\n\tif (!commentOpenerIcon) return;\r\n\tif (!commentList) return;\r\n\tif (!commentCloser) return;\r\n\r\n\tdefinePopUp(commentList);\r\n\r\n\taddListener(commentOpener, 'click', () => activateEl(commentList));\r\n\taddListener(commentOpenerIcon, 'click', () => activateEl(commentList));\r\n\taddListener(commentCloser, 'click', () => deActivateEl(commentList));\r\n\r\n\t/*Add New Comments */\r\n\tconst addNewCommentForm = document.getElementById('addNewComment');\r\n\tconst parentId = document.getElementById('parentID');\r\n\tconst parentDiv = document.getElementById('parentDiv');\r\n\tconst parentText = document.getElementById('parentText');\r\n\tconst closeReply = document.getElementById('closeReply');\r\n\tconst replyButtons = document.querySelectorAll('.comment__reply');\r\n\tconst commentsMessage = document.getElementById('commentsMessage');\r\n\r\n\tif (!addNewCommentForm) return;\r\n\r\n\taddListener(closeReply, 'click', () => {\r\n\t\tdeActivateEl(parentDiv);\r\n\t\tparentId.value = '';\r\n\t});\r\n\r\n\treplyButtons.forEach((button) => {\r\n\t\taddListener(button, 'click', () => {\r\n\t\t\tactivateEl(parentDiv);\r\n\t\t\tcommentList.scrollTo({ top: 0, behavior: 'smooth', left: 0 });\r\n\t\t\tparentText.innerText = button.dataset.commentText;\r\n\t\t\tparentId.value = button.dataset.commentId;\r\n\t\t});\r\n\t});\r\n\r\n\taddListener(addNewCommentForm, 'submit', (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst formData = new FormData(e.currentTarget, e.submitter);\r\n\t\tformData.append('action', 'cyn_add_new_comment');\r\n\t\tformData.append('_nonce', cyn_head_script.nonce);\r\n\r\n\t\tjQuery(($) => {\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\turl: cyn_head_script.url,\r\n\t\t\t\tcache: false,\r\n\t\t\t\tprocessData: false,\r\n\t\t\t\tcontentType: false,\r\n\t\t\t\tdata: formData,\r\n\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tif (res?.commentStatus === 0) {\r\n\t\t\t\t\t\tsetWarningComment(commentsMessage);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res?.commentStatus === 1) {\r\n\t\t\t\t\t\tsetSuccessComment(commentsMessage);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetErrorComment(commentsMessage);\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n};\r\n\r\nconst setWarningComment = (commentsMessage) => {\r\n\tconst span = document.createElement('span');\r\n\tspan.classList.add('warning');\r\n\tspan.innerText = '\u06A9\u0627\u0645\u0646\u062A \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u062B\u0628\u062A \u0634\u062F \u0648 \u062F\u0631 \u0627\u0646\u062A\u0638\u0627\u0631 \u062A\u0627\u06CC\u06CC\u062F \u0627\u0633\u062A';\r\n\tcommentsMessage.appendChild(span);\r\n};\r\n\r\nconst setSuccessComment = (commentsMessage) => {\r\n\tconst span = document.createElement('span');\r\n\tspan.classList.add('success');\r\n\tspan.innerText = '\u06A9\u0627\u0645\u0646\u062A \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u062B\u0628\u062A \u0634\u062F';\r\n\tcommentsMessage.appendChild(span);\r\n};\r\n\r\nconst setErrorComment = (commentsMessage) => {\r\n\tconst span = document.createElement('span');\r\n\tspan.classList.add('error');\r\n\tspan.innerText = '\u062E\u0637\u0627\u06CC\u06CC \u062F\u0631 \u062B\u0628\u062A \u06A9\u0627\u0645\u0646\u062A \u0628\u0647 \u0648\u062C\u0648\u062F \u0622\u0645\u062F\u0647 \u0627\u0633\u062A!';\r\n\tcommentsMessage.appendChild(span);\r\n};\r\n", "import {\r\n  activateEl,\r\n  activateFirstEl,\r\n  deActivateAll,\r\n  deActivateEl,\r\n  definePopUp,\r\n} from '../utils/functions';\r\n\r\nexport const Gallery = () => {\r\n  const gallery = document.getElementById('gallery');\r\n  const featureImage = document.getElementById('featureImage');\r\n  const thumbnails = document.querySelectorAll(\r\n    '.gallery__thumbnails > .img-wrapper img'\r\n  );\r\n  const moreImages = document.getElementById('moreImages');\r\n  const galleryPopUp = document.getElementById('galleryPopUp');\r\n  const closeGallery = document.getElementById('closeGallery');\r\n\r\n  if (!gallery) return;\r\n  if (!featureImage) return;\r\n  if (!thumbnails) return;\r\n\r\n  thumbnails.forEach((thumb, key, thumbs) => {\r\n    thumb.addEventListener('click', () => {\r\n      deActivateAll(thumbs);\r\n      activateEl(thumb);\r\n    });\r\n\r\n    thumb.addEventListener('cynActivate', (e) => {\r\n      if (!e.target.dataset.active) return;\r\n      featureImage.style.backgroundImage = `url(${e.target.currentSrc})`;\r\n    });\r\n  });\r\n\r\n  activateFirstEl(thumbnails);\r\n\r\n  if (!moreImages) return;\r\n  if (!galleryPopUp) return;\r\n  if (!closeGallery) return;\r\n\r\n  moreImages.addEventListener('click', () => activateEl(galleryPopUp));\r\n  galleryPopUp.addEventListener('click', (e) => {\r\n    if (e.target !== galleryPopUp) return;\r\n    deActivateEl(galleryPopUp);\r\n  });\r\n  closeGallery.addEventListener('click', () => deActivateEl(galleryPopUp));\r\n\r\n  definePopUp(galleryPopUp);\r\n};\r\n", "export const headerBg = () => {\r\n  const headerEl = document.getElementById('mainHeader');\r\n  if (!headerEl) return;\r\n\r\n  const archiveServiceHero = document.getElementById('archiveServiceHero');\r\n\r\n  if (archiveServiceHero) {\r\n    headerEl.style.setProperty('--bg_clr', '#C0E1E7');\r\n    return;\r\n  }\r\n\r\n  headerEl.style.setProperty('--bg_clr', '');\r\n};\r\n", "import {\r\n  activateEl,\r\n  addListener,\r\n  deActivateEl,\r\n  getCookie,\r\n  getUserIp,\r\n  setCookie,\r\n  toggleActivateEl,\r\n} from '../utils/functions';\r\n\r\nexport const LikePost = () => {\r\n  const likePostGroup = document.querySelectorAll('[data-role=\"like-action\"]');\r\n  if (!likePostGroup) return;\r\n\r\n  likePostGroup.forEach((el) => {\r\n    const count = el.querySelector('#count');\r\n\r\n    addListener(el, 'click', () => {\r\n      jQuery(($) => {\r\n        $.ajax({\r\n          type: 'post',\r\n          url: cyn_head_script.url,\r\n          data: {\r\n            _nonce: cyn_head_script.nonce,\r\n            action: 'cyn_like_post',\r\n            ...el.dataset,\r\n          },\r\n\r\n          success: ({ isUserLiked, likeCount }) => {\r\n            count.innerHTML = likeCount;\r\n            isUserLiked ? activateEl(el) : deActivateEl(el);\r\n            cookieManagement(el.dataset.postId, isUserLiked);\r\n          },\r\n        });\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nconst cookieManagement = (postId, isUserLiked) => {\r\n  const cookies = getCookie('postsUserLiked');\r\n\r\n  const addPostToCookie = () => {\r\n    Object.assign(cookies, { [postId]: true });\r\n    setCookie('postsUserLiked', cookies, 90);\r\n  };\r\n\r\n  const removePostFromCookie = () => {\r\n    Object.assign(cookies, { [postId]: false });\r\n    setCookie('postsUserLiked', cookies, 90);\r\n  };\r\n\r\n  if (isUserLiked) {\r\n    addPostToCookie();\r\n    return;\r\n  }\r\n\r\n  removePostFromCookie();\r\n};\r\n", "import {\r\n  activateEl,\r\n  addListener,\r\n  deActivateEl,\r\n  definePopUp,\r\n  toggleActivateEl,\r\n} from '../utils/functions';\r\n\r\nexport const menu = () => {\r\n  const mobileMenu = document.getElementById('mobileMenu');\r\n  const menuOpener = document.getElementById('menuOpener');\r\n  const menuCloser = document.getElementById('menuCloser');\r\n  const menuItemHasChildren = document.querySelectorAll(\r\n    '.menu-item-has-children'\r\n  );\r\n\r\n  if (!mobileMenu) return;\r\n  if (!menuOpener) return;\r\n  if (!menuCloser) return;\r\n\r\n  deActivateEl(mobileMenu);\r\n  definePopUp(mobileMenu);\r\n\r\n  addListener(menuOpener, 'click', () => activateEl(mobileMenu));\r\n  addListener(menuCloser, 'click', () => deActivateEl(mobileMenu));\r\n\r\n  if (!menuItemHasChildren) return;\r\n\r\n  menuItemHasChildren.forEach((el) => {\r\n    addListener(el, 'click', (e) => {\r\n      if (e.target != el) return;\r\n      toggleActivateEl(el);\r\n    });\r\n    addGridWrapper(el);\r\n  });\r\n};\r\n\r\nconst addGridWrapper = (el) => {\r\n  const hasGrid = el.children.item(1).classList.contains('grid-wrapper');\r\n  if (hasGrid) return;\r\n\r\n  const submenu = el.querySelector('ul.sub-menu');\r\n  const div = document.createElement('div');\r\n  div.classList.add('grid-wrapper');\r\n\r\n  el.appendChild(div);\r\n  div.appendChild(submenu);\r\n};\r\n", "const scrollers = document.querySelectorAll('.scroller');\r\n\r\nif (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\r\n\taddAnimation();\r\n}\r\n\r\nfunction addAnimation() {\r\n\tscrollers.forEach((scroller) => {\r\n\t\tscroller.setAttribute('data-animated', true);\r\n\r\n\t\tconst scrollerInner = scroller.querySelector('.scroller__inner');\r\n\t\tconst scrollerContent = Array.from(scrollerInner.children);\r\n\r\n\t\tscrollerContent.forEach((item) => {\r\n\t\t\tconst duplicatedItem = item.cloneNode(true);\r\n\t\t\tconst duplicatedItem2 = item.cloneNode(true);\r\n\t\t\tduplicatedItem.setAttribute('aria-hidden', true);\r\n\t\t\tduplicatedItem2.setAttribute('aria-hidden', true);\r\n\t\t\tscrollerInner.appendChild(duplicatedItem);\r\n\t\t\tscrollerInner.insertBefore(\r\n\t\t\t\tduplicatedItem2,\r\n\t\t\t\tscrollerInner.firstElementChild\r\n\t\t\t);\r\n\t\t});\r\n\t});\r\n}\r\n", "import {\r\n  activateEl,\r\n  addListener,\r\n  changeButtonStatus,\r\n  deActivateEl,\r\n  definePopUp,\r\n  showMassage,\r\n} from '../utils/functions';\r\n\r\nexport const ajaxSendForm = (formEl, action) => (e) => {\r\n  e.preventDefault();\r\n  changeButtonStatus('pending', e.submitter);\r\n\r\n  const formData = new FormData(e.currentTarget, e.submitter);\r\n\r\n  formData.append('action', action);\r\n  formData.append('_nonce', cyn_head_script.nonce);\r\n\r\n  jQuery(($) => {\r\n    $.ajax({\r\n      type: 'POST',\r\n      url: cyn_head_script.url,\r\n      cache: false,\r\n      processData: false,\r\n      contentType: false,\r\n      data: formData,\r\n\r\n      success: (res) => {\r\n        formEl.reset();\r\n        showMassage('success', formEl);\r\n        changeButtonStatus('success', e.submitter);\r\n      },\r\n      error: () => {\r\n        showMassage('error', formEl);\r\n        changeButtonStatus('success', e.submitter);\r\n      },\r\n    });\r\n  });\r\n};\r\n\r\nexport const ContactUs = () => {\r\n  const contactUsPage = document.getElementById('contactUsPage');\r\n  const contactForm = document.getElementById('contactForm');\r\n\r\n  if (!contactUsPage) return;\r\n\r\n  addListener(\r\n    contactForm,\r\n    'submit',\r\n    ajaxSendForm(contactForm, 'cyn_contact_us_form')\r\n  );\r\n};\r\n\r\nexport const ReservePopUp = () => {\r\n  const reservePopUp = document.getElementById('reservePopUp');\r\n  const reservePopUpForm = document.getElementById('reservePopUpForm');\r\n  const reservePopUpOpener = document.getElementById('reservePopUpOpener');\r\n  const reservePopUpCloser = document.getElementById('reservePopUpCloser');\r\n\r\n  if (!reservePopUp) return;\r\n  if (!reservePopUpForm) return;\r\n  if (!reservePopUpOpener) return;\r\n  if (!reservePopUpCloser) return;\r\n\r\n  definePopUp(reservePopUp);\r\n\r\n  addListener(reservePopUpOpener, 'click', () => activateEl(reservePopUp));\r\n  addListener(reservePopUpCloser, 'click', () => deActivateEl(reservePopUp));\r\n\r\n  addListener(\r\n    reservePopUpForm,\r\n    'submit',\r\n    ajaxSendForm(reservePopUpForm, 'cyn_reserve_form')\r\n  );\r\n};\r\n", "import { addListener } from '../utils/functions';\r\n\r\nexport const sharePost = () => {\r\n  const shareAction = document.getElementById('shareAction');\r\n  const title = document.querySelector('h1');\r\n\r\n  if (!shareAction) return;\r\n  if (!title) return;\r\n\r\n  addListener(shareAction, 'click', () => {\r\n    navigator.share({\r\n      url: window.location.href,\r\n      title,\r\n    });\r\n  });\r\n};\r\n", "const btnShowMore = document.querySelector('.btn-more-desc');\r\nconst divShowMore = document.querySelector('.more-description');\r\n\r\nexport const showMoreFunc = () => {\r\n  if (!btnShowMore) return;\r\n  if (!divShowMore) return;\r\n\r\n  btnShowMore.addEventListener('click', function () {\r\n    divShowMore.classList.toggle('active-show-more');\r\n  });\r\n};\r\n", "/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n  return obj !== null && typeof obj === 'object' && 'constructor' in obj && obj.constructor === Object;\n}\nfunction extend(target, src) {\n  if (target === void 0) {\n    target = {};\n  }\n  if (src === void 0) {\n    src = {};\n  }\n  Object.keys(src).forEach(key => {\n    if (typeof target[key] === 'undefined') target[key] = src[key];else if (isObject(src[key]) && isObject(target[key]) && Object.keys(src[key]).length > 0) {\n      extend(target[key], src[key]);\n    }\n  });\n}\nconst ssrDocument = {\n  body: {},\n  addEventListener() {},\n  removeEventListener() {},\n  activeElement: {\n    blur() {},\n    nodeName: ''\n  },\n  querySelector() {\n    return null;\n  },\n  querySelectorAll() {\n    return [];\n  },\n  getElementById() {\n    return null;\n  },\n  createEvent() {\n    return {\n      initEvent() {}\n    };\n  },\n  createElement() {\n    return {\n      children: [],\n      childNodes: [],\n      style: {},\n      setAttribute() {},\n      getElementsByTagName() {\n        return [];\n      }\n    };\n  },\n  createElementNS() {\n    return {};\n  },\n  importNode() {\n    return null;\n  },\n  location: {\n    hash: '',\n    host: '',\n    hostname: '',\n    href: '',\n    origin: '',\n    pathname: '',\n    protocol: '',\n    search: ''\n  }\n};\nfunction getDocument() {\n  const doc = typeof document !== 'undefined' ? document : {};\n  extend(doc, ssrDocument);\n  return doc;\n}\nconst ssrWindow = {\n  document: ssrDocument,\n  navigator: {\n    userAgent: ''\n  },\n  location: {\n    hash: '',\n    host: '',\n    hostname: '',\n    href: '',\n    origin: '',\n    pathname: '',\n    protocol: '',\n    search: ''\n  },\n  history: {\n    replaceState() {},\n    pushState() {},\n    go() {},\n    back() {}\n  },\n  CustomEvent: function CustomEvent() {\n    return this;\n  },\n  addEventListener() {},\n  removeEventListener() {},\n  getComputedStyle() {\n    return {\n      getPropertyValue() {\n        return '';\n      }\n    };\n  },\n  Image() {},\n  Date() {},\n  screen: {},\n  setTimeout() {},\n  clearTimeout() {},\n  matchMedia() {\n    return {};\n  },\n  requestAnimationFrame(callback) {\n    if (typeof setTimeout === 'undefined') {\n      callback();\n      return null;\n    }\n    return setTimeout(callback, 0);\n  },\n  cancelAnimationFrame(id) {\n    if (typeof setTimeout === 'undefined') {\n      return;\n    }\n    clearTimeout(id);\n  }\n};\nfunction getWindow() {\n  const win = typeof window !== 'undefined' ? window : {};\n  extend(win, ssrWindow);\n  return win;\n}\n\nexport { getWindow as a, getDocument as g };\n", "import { a as getWindow, g as getDocument } from './ssr-window.esm.mjs';\n\nfunction classesToTokens(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n  return classes.trim().split(' ').filter(c => !!c.trim());\n}\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {\n      // no getter for object\n    }\n    try {\n      delete object[key];\n    } catch (e) {\n      // something got wrong\n    }\n  });\n}\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n  return setTimeout(callback, delay);\n}\nfunction now() {\n  return Date.now();\n}\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n  if (!style) {\n    style = el.style;\n  }\n  return style;\n}\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el);\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    }\n    // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n    // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n    // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n  return curTransform || 0;\n}\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n  return to;\n}\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n  const animate = () => {\n    time = new Date().getTime();\n    if (startTime === null) {\n      startTime = time;\n    }\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n  animate();\n}\nfunction getSlideTransformEl(slideEl) {\n  return slideEl.querySelector('.swiper-slide-transform') || slideEl.shadowRoot && slideEl.shadowRoot.querySelector('.swiper-slide-transform') || slideEl;\n}\nfunction elementChildren(element, selector) {\n  if (selector === void 0) {\n    selector = '';\n  }\n  return [...element.children].filter(el => el.matches(selector));\n}\nfunction showWarning(text) {\n  try {\n    console.warn(text);\n    return;\n  } catch (err) {\n    // err\n  }\n}\nfunction createElement(tag, classes) {\n  if (classes === void 0) {\n    classes = [];\n  }\n  const el = document.createElement(tag);\n  el.classList.add(...(Array.isArray(classes) ? classes : classesToTokens(classes)));\n  return el;\n}\nfunction elementOffset(el) {\n  const window = getWindow();\n  const document = getDocument();\n  const box = el.getBoundingClientRect();\n  const body = document.body;\n  const clientTop = el.clientTop || body.clientTop || 0;\n  const clientLeft = el.clientLeft || body.clientLeft || 0;\n  const scrollTop = el === window ? window.scrollY : el.scrollTop;\n  const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n  return {\n    top: box.top + scrollTop - clientTop,\n    left: box.left + scrollLeft - clientLeft\n  };\n}\nfunction elementPrevAll(el, selector) {\n  const prevEls = [];\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n    if (selector) {\n      if (prev.matches(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n    el = prev;\n  }\n  return prevEls;\n}\nfunction elementNextAll(el, selector) {\n  const nextEls = [];\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n    if (selector) {\n      if (next.matches(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n    el = next;\n  }\n  return nextEls;\n}\nfunction elementStyle(el, prop) {\n  const window = getWindow();\n  return window.getComputedStyle(el, null).getPropertyValue(prop);\n}\nfunction elementIndex(el) {\n  let child = el;\n  let i;\n  if (child) {\n    i = 0;\n    // eslint-disable-next-line\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n    return i;\n  }\n  return undefined;\n}\nfunction elementParents(el, selector) {\n  const parents = []; // eslint-disable-line\n  let parent = el.parentElement; // eslint-disable-line\n  while (parent) {\n    if (selector) {\n      if (parent.matches(selector)) parents.push(parent);\n    } else {\n      parents.push(parent);\n    }\n    parent = parent.parentElement;\n  }\n  return parents;\n}\nfunction elementTransitionEnd(el, callback) {\n  function fireCallBack(e) {\n    if (e.target !== el) return;\n    callback.call(el, e);\n    el.removeEventListener('transitionend', fireCallBack);\n  }\n  if (callback) {\n    el.addEventListener('transitionend', fireCallBack);\n  }\n}\nfunction elementOuterSize(el, size, includeMargins) {\n  const window = getWindow();\n  if (includeMargins) {\n    return el[size === 'width' ? 'offsetWidth' : 'offsetHeight'] + parseFloat(window.getComputedStyle(el, null).getPropertyValue(size === 'width' ? 'margin-right' : 'margin-top')) + parseFloat(window.getComputedStyle(el, null).getPropertyValue(size === 'width' ? 'margin-left' : 'margin-bottom'));\n  }\n  return el.offsetWidth;\n}\n\nexport { elementParents as a, elementOffset as b, createElement as c, now as d, elementChildren as e, elementOuterSize as f, elementIndex as g, classesToTokens as h, getTranslate as i, elementTransitionEnd as j, isObject as k, getSlideTransformEl as l, elementStyle as m, nextTick as n, elementNextAll as o, elementPrevAll as p, animateCSSModeScroll as q, showWarning as r, setCSSProperty as s, extend as t, deleteProps as u };\n", "import { a as getWindow, g as getDocument } from './ssr-window.esm.mjs';\nimport { a as elementParents, m as elementStyle, e as elementChildren, s as setCSSProperty, f as elementOuterSize, o as elementNextAll, p as elementPrevAll, i as getTranslate, q as animateCSSModeScroll, n as nextTick, r as showWarning, c as createElement, d as now, t as extend, g as elementIndex, u as deleteProps } from './utils.mjs';\n\nlet support;\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && document.documentElement.style && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch)\n  };\n}\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n  return support;\n}\n\nlet deviceCached;\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel';\n\n  // iPadOs 13 fix\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  }\n\n  // Android\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  }\n\n  // Export object\n  return device;\n}\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n  return deviceCached;\n}\n\nlet browser;\nfunction calcBrowser() {\n  const window = getWindow();\n  let needPerspectiveFix = false;\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n  if (isSafari()) {\n    const ua = String(window.navigator.userAgent);\n    if (ua.includes('Version/')) {\n      const [major, minor] = ua.split('Version/')[1].split(' ')[0].split('.').map(num => Number(num));\n      needPerspectiveFix = major < 16 || major === 16 && minor < 2;\n    }\n  }\n  return {\n    isSafari: needPerspectiveFix || isSafari(),\n    needPerspectiveFix,\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n  return browser;\n}\n\nfunction Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}\n\nfunction Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (swiper.__preventObserver__) return;\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n  const init = () => {\n    if (!swiper.params.observer) return;\n    if (swiper.params.observeParents) {\n      const containerParents = elementParents(swiper.hostEl);\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    }\n    // Observe container\n    attach(swiper.hostEl, {\n      childList: swiper.params.observeSlideChildren\n    });\n\n    // Observe wrapper\n    attach(swiper.wrapperEl, {\n      attributes: false\n    });\n  };\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}\n\n/* eslint-disable no-underscore-dangle */\n\nvar eventsEmitter = {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    function onceHandler() {\n      self.off(events, onceHandler);\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      handler.apply(self, args);\n    }\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n    return self;\n  },\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n    return self;\n  },\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n};\n\nfunction updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const el = swiper.el;\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = el.clientWidth;\n  }\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = el.clientHeight;\n  }\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  }\n\n  // Subtract paddings\n  width = width - parseInt(elementStyle(el, 'padding-left') || 0, 10) - parseInt(elementStyle(el, 'padding-right') || 0, 10);\n  height = height - parseInt(elementStyle(el, 'padding-top') || 0, 10) - parseInt(elementStyle(el, 'padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}\n\nfunction updateSlides() {\n  const swiper = this;\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(swiper.getDirectionLabel(label)) || 0);\n  }\n  const params = swiper.params;\n  const {\n    wrapperEl,\n    slidesEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = elementChildren(slidesEl, `.${swiper.params.slideClass}, swiper-slide`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n  let offsetAfter = params.slidesOffsetAfter;\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  } else if (typeof spaceBetween === 'string') {\n    spaceBetween = parseFloat(spaceBetween);\n  }\n  swiper.virtualSize = -spaceBetween;\n\n  // reset margins\n  slides.forEach(slideEl => {\n    if (rtl) {\n      slideEl.style.marginLeft = '';\n    } else {\n      slideEl.style.marginRight = '';\n    }\n    slideEl.style.marginBottom = '';\n    slideEl.style.marginTop = '';\n  });\n\n  // reset cssMode offsets\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-after', '');\n  }\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n  if (gridEnabled) {\n    swiper.grid.initSlides(slides);\n  } else if (swiper.grid) {\n    swiper.grid.unsetSlides();\n  }\n\n  // Calc slides\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    let slide;\n    if (slides[i]) slide = slides[i];\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slides);\n    }\n    if (slides[i] && elementStyle(slide, 'display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[swiper.getDirectionLabel('width')] = ``;\n      }\n      const slideStyles = getComputedStyle(slide);\n      const currentTransform = slide.style.transform;\n      const currentWebKitTransform = slide.style.webkitTransform;\n      if (currentTransform) {\n        slide.style.transform = 'none';\n      }\n      if (currentWebKitTransform) {\n        slide.style.webkitTransform = 'none';\n      }\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? elementOuterSize(slide, 'width', true) : elementOuterSize(slide, 'height', true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide;\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n      if (currentTransform) {\n        slide.style.transform = currentTransform;\n      }\n      if (currentWebKitTransform) {\n        slide.style.webkitTransform = currentWebKitTransform;\n      }\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n      if (slides[i]) {\n        slides[i].style[swiper.getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n    slidesSizesGrid.push(slideSize);\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    wrapperEl.style.width = `${swiper.virtualSize + spaceBetween}px`;\n  }\n  if (params.setWrapperSize) {\n    wrapperEl.style[swiper.getDirectionLabel('width')] = `${swiper.virtualSize + spaceBetween}px`;\n  }\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid);\n  }\n\n  // Remove last grid elements depending on width\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n    snapGrid = newSlidesGrid;\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n  if (isVirtual && params.loop) {\n    const size = slidesSizesGrid[0] + spaceBetween;\n    if (params.slidesPerGroup > 1) {\n      const groups = Math.ceil((swiper.virtual.slidesBefore + swiper.virtual.slidesAfter) / params.slidesPerGroup);\n      const groupSize = size * params.slidesPerGroup;\n      for (let i = 0; i < groups; i += 1) {\n        snapGrid.push(snapGrid[snapGrid.length - 1] + groupSize);\n      }\n    }\n    for (let i = 0; i < swiper.virtual.slidesBefore + swiper.virtual.slidesAfter; i += 1) {\n      if (params.slidesPerGroup === 1) {\n        snapGrid.push(snapGrid[snapGrid.length - 1] + size);\n      }\n      slidesGrid.push(slidesGrid[slidesGrid.length - 1] + size);\n      swiper.virtualSize += size;\n    }\n  }\n  if (snapGrid.length === 0) snapGrid = [0];\n  if (spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : swiper.getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode || params.loop) return true;\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n      return true;\n    }).forEach(slideEl => {\n      slideEl.style[key] = `${spaceBetween}px`;\n    });\n  }\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (spaceBetween || 0);\n    });\n    allSlidesSize -= spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap <= 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (spaceBetween || 0);\n    });\n    allSlidesSize -= spaceBetween;\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n  swiper.emit('slidesUpdated');\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.el.classList.contains(backFaceHiddenClass);\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.el.classList.add(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.el.classList.remove(backFaceHiddenClass);\n    }\n  }\n}\n\nfunction updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides[swiper.getSlideIndexByData(index)];\n    }\n    return swiper.slides[index];\n  };\n  // Find slides currently in view\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || []).forEach(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  }\n\n  // Find new height from highest slide in view\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  }\n\n  // Update Height\n  if (newHeight || newHeight === 0) swiper.wrapperEl.style.height = `${newHeight}px`;\n}\n\nfunction updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n  // eslint-disable-next-line\n  const minusOffset = swiper.isElement ? swiper.isHorizontal() ? swiper.wrapperEl.offsetLeft : swiper.wrapperEl.offsetTop : 0;\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = (swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop) - minusOffset - swiper.cssOverflowAdjustment();\n  }\n}\n\nfunction updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate;\n\n  // Visible Slides\n  slides.forEach(slideEl => {\n    slideEl.classList.remove(params.slideVisibleClass, params.slideFullyVisibleClass);\n  });\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n  let spaceBetween = params.spaceBetween;\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiper.size;\n  } else if (typeof spaceBetween === 'string') {\n    spaceBetween = parseFloat(spaceBetween);\n  }\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isFullyVisible = slideBefore >= 0 && slideBefore <= swiper.size - swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides[i].classList.add(params.slideVisibleClass);\n    }\n    if (isFullyVisible) {\n      slides[i].classList.add(params.slideFullyVisibleClass);\n    }\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n}\n\nfunction updateProgress(translate) {\n  const swiper = this;\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1;\n    // eslint-disable-next-line\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd,\n    progressLoop\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    const isBeginningRounded = Math.abs(translate - swiper.minTranslate()) < 1;\n    const isEndRounded = Math.abs(translate - swiper.maxTranslate()) < 1;\n    isBeginning = isBeginningRounded || progress <= 0;\n    isEnd = isEndRounded || progress >= 1;\n    if (isBeginningRounded) progress = 0;\n    if (isEndRounded) progress = 1;\n  }\n  if (params.loop) {\n    const firstSlideIndex = swiper.getSlideIndexByData(0);\n    const lastSlideIndex = swiper.getSlideIndexByData(swiper.slides.length - 1);\n    const firstSlideTranslate = swiper.slidesGrid[firstSlideIndex];\n    const lastSlideTranslate = swiper.slidesGrid[lastSlideIndex];\n    const translateMax = swiper.slidesGrid[swiper.slidesGrid.length - 1];\n    const translateAbs = Math.abs(translate);\n    if (translateAbs >= firstSlideTranslate) {\n      progressLoop = (translateAbs - firstSlideTranslate) / translateMax;\n    } else {\n      progressLoop = (translateAbs + translateMax - lastSlideTranslate) / translateMax;\n    }\n    if (progressLoop > 1) progressLoop -= 1;\n  }\n  Object.assign(swiper, {\n    progress,\n    progressLoop,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n  swiper.emit('progress', progress);\n}\n\nfunction updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    slidesEl,\n    activeIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  const getFilteredSlide = selector => {\n    return elementChildren(slidesEl, `.${params.slideClass}${selector}, swiper-slide${selector}`)[0];\n  };\n  slides.forEach(slideEl => {\n    slideEl.classList.remove(params.slideActiveClass, params.slideNextClass, params.slidePrevClass);\n  });\n  let activeSlide;\n  let prevSlide;\n  let nextSlide;\n  if (isVirtual) {\n    if (params.loop) {\n      let slideIndex = activeIndex - swiper.virtual.slidesBefore;\n      if (slideIndex < 0) slideIndex = swiper.virtual.slides.length + slideIndex;\n      if (slideIndex >= swiper.virtual.slides.length) slideIndex -= swiper.virtual.slides.length;\n      activeSlide = getFilteredSlide(`[data-swiper-slide-index=\"${slideIndex}\"]`);\n    } else {\n      activeSlide = getFilteredSlide(`[data-swiper-slide-index=\"${activeIndex}\"]`);\n    }\n  } else {\n    if (gridEnabled) {\n      activeSlide = slides.filter(slideEl => slideEl.column === activeIndex)[0];\n      nextSlide = slides.filter(slideEl => slideEl.column === activeIndex + 1)[0];\n      prevSlide = slides.filter(slideEl => slideEl.column === activeIndex - 1)[0];\n    } else {\n      activeSlide = slides[activeIndex];\n    }\n  }\n  if (activeSlide) {\n    // Active classes\n    activeSlide.classList.add(params.slideActiveClass);\n    if (gridEnabled) {\n      if (nextSlide) {\n        nextSlide.classList.add(params.slideNextClass);\n      }\n      if (prevSlide) {\n        prevSlide.classList.add(params.slidePrevClass);\n      }\n    } else {\n      // Next Slide\n      nextSlide = elementNextAll(activeSlide, `.${params.slideClass}, swiper-slide`)[0];\n      if (params.loop && !nextSlide) {\n        nextSlide = slides[0];\n      }\n      if (nextSlide) {\n        nextSlide.classList.add(params.slideNextClass);\n      }\n\n      // Prev Slide\n      prevSlide = elementPrevAll(activeSlide, `.${params.slideClass}, swiper-slide`)[0];\n      if (params.loop && !prevSlide === 0) {\n        prevSlide = slides[slides.length - 1];\n      }\n      if (prevSlide) {\n        prevSlide.classList.add(params.slidePrevClass);\n      }\n    }\n  }\n  swiper.emitSlidesClasses();\n}\n\nconst processLazyPreloader = (swiper, imageEl) => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  const slideSelector = () => swiper.isElement ? `swiper-slide` : `.${swiper.params.slideClass}`;\n  const slideEl = imageEl.closest(slideSelector());\n  if (slideEl) {\n    let lazyEl = slideEl.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n    if (!lazyEl && swiper.isElement) {\n      if (slideEl.shadowRoot) {\n        lazyEl = slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n      } else {\n        // init later\n        requestAnimationFrame(() => {\n          if (slideEl.shadowRoot) {\n            lazyEl = slideEl.shadowRoot.querySelector(`.${swiper.params.lazyPreloaderClass}`);\n            if (lazyEl) lazyEl.remove();\n          }\n        });\n      }\n    }\n    if (lazyEl) lazyEl.remove();\n  }\n};\nconst unlazy = (swiper, index) => {\n  if (!swiper.slides[index]) return;\n  const imageEl = swiper.slides[index].querySelector('[loading=\"lazy\"]');\n  if (imageEl) imageEl.removeAttribute('loading');\n};\nconst preload = swiper => {\n  if (!swiper || swiper.destroyed || !swiper.params) return;\n  let amount = swiper.params.lazyPreloadPrevNext;\n  const len = swiper.slides.length;\n  if (!len || !amount || amount < 0) return;\n  amount = Math.min(amount, len);\n  const slidesPerView = swiper.params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(swiper.params.slidesPerView);\n  const activeIndex = swiper.activeIndex;\n  if (swiper.params.grid && swiper.params.grid.rows > 1) {\n    const activeColumn = activeIndex;\n    const preloadColumns = [activeColumn - amount];\n    preloadColumns.push(...Array.from({\n      length: amount\n    }).map((_, i) => {\n      return activeColumn + slidesPerView + i;\n    }));\n    swiper.slides.forEach((slideEl, i) => {\n      if (preloadColumns.includes(slideEl.column)) unlazy(swiper, i);\n    });\n    return;\n  }\n  const slideIndexLastInView = activeIndex + slidesPerView - 1;\n  if (swiper.params.rewind || swiper.params.loop) {\n    for (let i = activeIndex - amount; i <= slideIndexLastInView + amount; i += 1) {\n      const realIndex = (i % len + len) % len;\n      if (realIndex < activeIndex || realIndex > slideIndexLastInView) unlazy(swiper, realIndex);\n    }\n  } else {\n    for (let i = Math.max(activeIndex - amount, 0); i <= Math.min(slideIndexLastInView + amount, len - 1); i += 1) {\n      if (i !== activeIndex && (i > slideIndexLastInView || i < activeIndex)) {\n        unlazy(swiper, i);\n      }\n    }\n  }\n};\n\nfunction getActiveIndexByTranslate(swiper) {\n  const {\n    slidesGrid,\n    params\n  } = swiper;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  let activeIndex;\n  for (let i = 0; i < slidesGrid.length; i += 1) {\n    if (typeof slidesGrid[i + 1] !== 'undefined') {\n      if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n        activeIndex = i;\n      } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n        activeIndex = i + 1;\n      }\n    } else if (translate >= slidesGrid[i]) {\n      activeIndex = i;\n    }\n  }\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n  }\n  return activeIndex;\n}\nfunction updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n  const getVirtualRealIndex = aIndex => {\n    let realIndex = aIndex - swiper.virtual.slidesBefore;\n    if (realIndex < 0) {\n      realIndex = swiper.virtual.slides.length + realIndex;\n    }\n    if (realIndex >= swiper.virtual.slides.length) {\n      realIndex -= swiper.virtual.slides.length;\n    }\n    return realIndex;\n  };\n  if (typeof activeIndex === 'undefined') {\n    activeIndex = getActiveIndexByTranslate(swiper);\n  }\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  if (activeIndex === previousIndex && !swiper.params.loop) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n    return;\n  }\n  if (activeIndex === previousIndex && swiper.params.loop && swiper.virtual && swiper.params.virtual.enabled) {\n    swiper.realIndex = getVirtualRealIndex(activeIndex);\n    return;\n  }\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n\n  // Get real index\n  let realIndex;\n  if (swiper.virtual && params.virtual.enabled && params.loop) {\n    realIndex = getVirtualRealIndex(activeIndex);\n  } else if (gridEnabled) {\n    const firstSlideInColumn = swiper.slides.filter(slideEl => slideEl.column === activeIndex)[0];\n    let activeSlideIndex = parseInt(firstSlideInColumn.getAttribute('data-swiper-slide-index'), 10);\n    if (Number.isNaN(activeSlideIndex)) {\n      activeSlideIndex = Math.max(swiper.slides.indexOf(firstSlideInColumn), 0);\n    }\n    realIndex = Math.floor(activeSlideIndex / params.grid.rows);\n  } else if (swiper.slides[activeIndex]) {\n    const slideIndex = swiper.slides[activeIndex].getAttribute('data-swiper-slide-index');\n    if (slideIndex) {\n      realIndex = parseInt(slideIndex, 10);\n    } else {\n      realIndex = activeIndex;\n    }\n  } else {\n    realIndex = activeIndex;\n  }\n  Object.assign(swiper, {\n    previousSnapIndex,\n    snapIndex,\n    previousRealIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  if (swiper.initialized) {\n    preload(swiper);\n  }\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    if (previousRealIndex !== realIndex) {\n      swiper.emit('realIndexChange');\n    }\n    swiper.emit('slideChange');\n  }\n}\n\nfunction updateClickedSlide(el, path) {\n  const swiper = this;\n  const params = swiper.params;\n  let slide = el.closest(`.${params.slideClass}, swiper-slide`);\n  if (!slide && swiper.isElement && path && path.length > 1 && path.includes(el)) {\n    [...path.slice(path.indexOf(el) + 1, path.length)].forEach(pathEl => {\n      if (!slide && pathEl.matches && pathEl.matches(`.${params.slideClass}, swiper-slide`)) {\n        slide = pathEl;\n      }\n    });\n  }\n  let slideFound = false;\n  let slideIndex;\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt(slide.getAttribute('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}\n\nvar update = {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};\n\nfunction getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    wrapperEl\n  } = swiper;\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n  if (params.cssMode) {\n    return translate;\n  }\n  let currentTranslate = getTranslate(wrapperEl, axis);\n  currentTranslate += swiper.cssOverflowAdjustment();\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}\n\nfunction setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y;\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    if (swiper.isHorizontal()) {\n      x -= swiper.cssOverflowAdjustment();\n    } else {\n      y -= swiper.cssOverflowAdjustment();\n    }\n    wrapperEl.style.transform = `translate3d(${x}px, ${y}px, ${z}px)`;\n  }\n\n  // Check if we need to update progress\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n  swiper.emit('setTranslate', swiper.translate, byController);\n}\n\nfunction minTranslate() {\n  return -this.snapGrid[0];\n}\n\nfunction maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}\n\nfunction translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate;\n\n  // Update progress\n  swiper.updateProgress(newTranslate);\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n    return true;\n  }\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n    if (!swiper.animating) {\n      swiper.animating = true;\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.wrapperEl.removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n      swiper.wrapperEl.addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n  return true;\n}\n\nvar translate = {\n  getTranslate: getSwiperTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};\n\nfunction setTransition(duration, byController) {\n  const swiper = this;\n  if (!swiper.params.cssMode) {\n    swiper.wrapperEl.style.transitionDuration = `${duration}ms`;\n    swiper.wrapperEl.style.transitionDelay = duration === 0 ? `0ms` : '';\n  }\n  swiper.emit('setTransition', duration, byController);\n}\n\nfunction transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n  swiper.emit(`transition${step}`);\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n    swiper.emit(`slideChangeTransition${step}`);\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}\n\nfunction transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}\n\nfunction transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}\n\nvar transition = {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};\n\nfunction slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (typeof index === 'string') {\n    index = parseInt(index, 10);\n  }\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n  const translate = -snapGrid[snapIndex];\n  // Normalize slideIndex\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  }\n  // Directions locks\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && (rtl ? translate > swiper.translate && translate > swiper.minTranslate() : translate < swiper.translate && translate < swiper.minTranslate())) {\n      return false;\n    }\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) {\n        return false;\n      }\n    }\n  }\n  if (slideIndex !== (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  // Update progress\n  swiper.updateProgress(translate);\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset';\n\n  // Update Index\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex);\n    // Update Height\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n    swiper.updateSlidesClasses();\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n    return false;\n  }\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n      if (isVirtual && !swiper._cssModeVirtualInitialSet && swiper.params.initialSlide > 0) {\n        swiper._cssModeVirtualInitialSet = true;\n        requestAnimationFrame(() => {\n          wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n        });\n      } else {\n        wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n      }\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._immediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n    return true;\n  }\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.wrapperEl.removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n    swiper.wrapperEl.addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n  }\n  return true;\n}\n\nfunction slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (typeof index === 'string') {\n    const indexAsNumber = parseInt(index, 10);\n    index = indexAsNumber;\n  }\n  const swiper = this;\n  const gridEnabled = swiper.grid && swiper.params.grid && swiper.params.grid.rows > 1;\n  let newIndex = index;\n  if (swiper.params.loop) {\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      // eslint-disable-next-line\n      newIndex = newIndex + swiper.virtual.slidesBefore;\n    } else {\n      let targetSlideIndex;\n      if (gridEnabled) {\n        const slideIndex = newIndex * swiper.params.grid.rows;\n        targetSlideIndex = swiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === slideIndex)[0].column;\n      } else {\n        targetSlideIndex = swiper.getSlideIndexByData(newIndex);\n      }\n      const cols = gridEnabled ? Math.ceil(swiper.slides.length / swiper.params.grid.rows) : swiper.slides.length;\n      const {\n        centeredSlides\n      } = swiper.params;\n      let slidesPerView = swiper.params.slidesPerView;\n      if (slidesPerView === 'auto') {\n        slidesPerView = swiper.slidesPerViewDynamic();\n      } else {\n        slidesPerView = Math.ceil(parseFloat(swiper.params.slidesPerView, 10));\n        if (centeredSlides && slidesPerView % 2 === 0) {\n          slidesPerView = slidesPerView + 1;\n        }\n      }\n      let needLoopFix = cols - targetSlideIndex < slidesPerView;\n      if (centeredSlides) {\n        needLoopFix = needLoopFix || targetSlideIndex < Math.ceil(slidesPerView / 2);\n      }\n      if (needLoopFix) {\n        const direction = centeredSlides ? targetSlideIndex < swiper.activeIndex ? 'prev' : 'next' : targetSlideIndex - swiper.activeIndex - 1 < swiper.params.slidesPerView ? 'next' : 'prev';\n        swiper.loopFix({\n          direction,\n          slideTo: true,\n          activeSlideIndex: direction === 'next' ? targetSlideIndex + 1 : targetSlideIndex - cols + 1,\n          slideRealIndex: direction === 'next' ? swiper.realIndex : undefined\n        });\n      }\n      if (gridEnabled) {\n        const slideIndex = newIndex * swiper.params.grid.rows;\n        newIndex = swiper.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === slideIndex)[0].column;\n      } else {\n        newIndex = swiper.getSlideIndexByData(newIndex);\n      }\n    }\n  }\n  requestAnimationFrame(() => {\n    swiper.slideTo(newIndex, speed, runCallbacks, internal);\n  });\n  return swiper;\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    enabled,\n    params,\n    animating\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  if (params.loop) {\n    if (animating && !isVirtual && params.loopPreventsSliding) return false;\n    swiper.loopFix({\n      direction: 'next'\n    });\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.wrapperEl.clientLeft;\n    if (swiper.activeIndex === swiper.slides.length - 1 && params.cssMode) {\n      requestAnimationFrame(() => {\n        swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n      });\n      return true;\n    }\n  }\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled,\n    animating\n  } = swiper;\n  if (!enabled) return swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  if (params.loop) {\n    if (animating && !isVirtual && params.loopPreventsSliding) return false;\n    swiper.loopFix({\n      direction: 'prev'\n    });\n    // eslint-disable-next-line\n    swiper._clientLeft = swiper.wrapperEl.clientLeft;\n  }\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n  let prevIndex = 0;\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  } else if (params.loop && swiper.activeIndex === 0 && params.cssMode) {\n    requestAnimationFrame(() => {\n      swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n    });\n    return true;\n  }\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}\n\n/* eslint no-unused-vars: \"off\" */\nfunction slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}\n\nfunction slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n  const slideSelector = swiper.isElement ? `swiper-slide` : `.${params.slideClass}`;\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt(swiper.clickedSlide.getAttribute('data-swiper-slide-index'), 10);\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = swiper.getSlideIndex(elementChildren(slidesEl, `${slideSelector}[data-swiper-slide-index=\"${realIndex}\"]`)[0]);\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = swiper.getSlideIndex(elementChildren(slidesEl, `${slideSelector}[data-swiper-slide-index=\"${realIndex}\"]`)[0]);\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}\n\nvar slide = {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};\n\nfunction loopCreate(slideRealIndex) {\n  const swiper = this;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  if (!params.loop || swiper.virtual && swiper.params.virtual.enabled) return;\n  const initSlides = () => {\n    const slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n    slides.forEach((el, index) => {\n      el.setAttribute('data-swiper-slide-index', index);\n    });\n  };\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  const slidesPerGroup = params.slidesPerGroup * (gridEnabled ? params.grid.rows : 1);\n  const shouldFillGroup = swiper.slides.length % slidesPerGroup !== 0;\n  const shouldFillGrid = gridEnabled && swiper.slides.length % params.grid.rows !== 0;\n  const addBlankSlides = amountOfSlides => {\n    for (let i = 0; i < amountOfSlides; i += 1) {\n      const slideEl = swiper.isElement ? createElement('swiper-slide', [params.slideBlankClass]) : createElement('div', [params.slideClass, params.slideBlankClass]);\n      swiper.slidesEl.append(slideEl);\n    }\n  };\n  if (shouldFillGroup) {\n    if (params.loopAddBlankSlides) {\n      const slidesToAdd = slidesPerGroup - swiper.slides.length % slidesPerGroup;\n      addBlankSlides(slidesToAdd);\n      swiper.recalcSlides();\n      swiper.updateSlides();\n    } else {\n      showWarning('Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');\n    }\n    initSlides();\n  } else if (shouldFillGrid) {\n    if (params.loopAddBlankSlides) {\n      const slidesToAdd = params.grid.rows - swiper.slides.length % params.grid.rows;\n      addBlankSlides(slidesToAdd);\n      swiper.recalcSlides();\n      swiper.updateSlides();\n    } else {\n      showWarning('Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)');\n    }\n    initSlides();\n  } else {\n    initSlides();\n  }\n  swiper.loopFix({\n    slideRealIndex,\n    direction: params.centeredSlides ? undefined : 'next'\n  });\n}\n\nfunction loopFix(_temp) {\n  let {\n    slideRealIndex,\n    slideTo = true,\n    direction,\n    setTranslate,\n    activeSlideIndex,\n    byController,\n    byMousewheel\n  } = _temp === void 0 ? {} : _temp;\n  const swiper = this;\n  if (!swiper.params.loop) return;\n  swiper.emit('beforeLoopFix');\n  const {\n    slides,\n    allowSlidePrev,\n    allowSlideNext,\n    slidesEl,\n    params\n  } = swiper;\n  const {\n    centeredSlides\n  } = params;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  if (swiper.virtual && params.virtual.enabled) {\n    if (slideTo) {\n      if (!params.centeredSlides && swiper.snapIndex === 0) {\n        swiper.slideTo(swiper.virtual.slides.length, 0, false, true);\n      } else if (params.centeredSlides && swiper.snapIndex < params.slidesPerView) {\n        swiper.slideTo(swiper.virtual.slides.length + swiper.snapIndex, 0, false, true);\n      } else if (swiper.snapIndex === swiper.snapGrid.length - 1) {\n        swiper.slideTo(swiper.virtual.slidesBefore, 0, false, true);\n      }\n    }\n    swiper.allowSlidePrev = allowSlidePrev;\n    swiper.allowSlideNext = allowSlideNext;\n    swiper.emit('loopFix');\n    return;\n  }\n  let slidesPerView = params.slidesPerView;\n  if (slidesPerView === 'auto') {\n    slidesPerView = swiper.slidesPerViewDynamic();\n  } else {\n    slidesPerView = Math.ceil(parseFloat(params.slidesPerView, 10));\n    if (centeredSlides && slidesPerView % 2 === 0) {\n      slidesPerView = slidesPerView + 1;\n    }\n  }\n  const slidesPerGroup = params.slidesPerGroupAuto ? slidesPerView : params.slidesPerGroup;\n  let loopedSlides = slidesPerGroup;\n  if (loopedSlides % slidesPerGroup !== 0) {\n    loopedSlides += slidesPerGroup - loopedSlides % slidesPerGroup;\n  }\n  loopedSlides += params.loopAdditionalSlides;\n  swiper.loopedSlides = loopedSlides;\n  const gridEnabled = swiper.grid && params.grid && params.grid.rows > 1;\n  if (slides.length < slidesPerView + loopedSlides) {\n    showWarning('Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters');\n  } else if (gridEnabled && params.grid.fill === 'row') {\n    showWarning('Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`');\n  }\n  const prependSlidesIndexes = [];\n  const appendSlidesIndexes = [];\n  let activeIndex = swiper.activeIndex;\n  if (typeof activeSlideIndex === 'undefined') {\n    activeSlideIndex = swiper.getSlideIndex(slides.filter(el => el.classList.contains(params.slideActiveClass))[0]);\n  } else {\n    activeIndex = activeSlideIndex;\n  }\n  const isNext = direction === 'next' || !direction;\n  const isPrev = direction === 'prev' || !direction;\n  let slidesPrepended = 0;\n  let slidesAppended = 0;\n  const cols = gridEnabled ? Math.ceil(slides.length / params.grid.rows) : slides.length;\n  const activeColIndex = gridEnabled ? slides[activeSlideIndex].column : activeSlideIndex;\n  const activeColIndexWithShift = activeColIndex + (centeredSlides && typeof setTranslate === 'undefined' ? -slidesPerView / 2 + 0.5 : 0);\n  // prepend last slides before start\n  if (activeColIndexWithShift < loopedSlides) {\n    slidesPrepended = Math.max(loopedSlides - activeColIndexWithShift, slidesPerGroup);\n    for (let i = 0; i < loopedSlides - activeColIndexWithShift; i += 1) {\n      const index = i - Math.floor(i / cols) * cols;\n      if (gridEnabled) {\n        const colIndexToPrepend = cols - index - 1;\n        for (let i = slides.length - 1; i >= 0; i -= 1) {\n          if (slides[i].column === colIndexToPrepend) prependSlidesIndexes.push(i);\n        }\n        // slides.forEach((slide, slideIndex) => {\n        //   if (slide.column === colIndexToPrepend) prependSlidesIndexes.push(slideIndex);\n        // });\n      } else {\n        prependSlidesIndexes.push(cols - index - 1);\n      }\n    }\n  } else if (activeColIndexWithShift + slidesPerView > cols - loopedSlides) {\n    slidesAppended = Math.max(activeColIndexWithShift - (cols - loopedSlides * 2), slidesPerGroup);\n    for (let i = 0; i < slidesAppended; i += 1) {\n      const index = i - Math.floor(i / cols) * cols;\n      if (gridEnabled) {\n        slides.forEach((slide, slideIndex) => {\n          if (slide.column === index) appendSlidesIndexes.push(slideIndex);\n        });\n      } else {\n        appendSlidesIndexes.push(index);\n      }\n    }\n  }\n  swiper.__preventObserver__ = true;\n  requestAnimationFrame(() => {\n    swiper.__preventObserver__ = false;\n  });\n  if (isPrev) {\n    prependSlidesIndexes.forEach(index => {\n      slides[index].swiperLoopMoveDOM = true;\n      slidesEl.prepend(slides[index]);\n      slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  if (isNext) {\n    appendSlidesIndexes.forEach(index => {\n      slides[index].swiperLoopMoveDOM = true;\n      slidesEl.append(slides[index]);\n      slides[index].swiperLoopMoveDOM = false;\n    });\n  }\n  swiper.recalcSlides();\n  if (params.slidesPerView === 'auto') {\n    swiper.updateSlides();\n  } else if (gridEnabled && (prependSlidesIndexes.length > 0 && isPrev || appendSlidesIndexes.length > 0 && isNext)) {\n    swiper.slides.forEach((slide, slideIndex) => {\n      swiper.grid.updateSlide(slideIndex, slide, swiper.slides);\n    });\n  }\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n  if (slideTo) {\n    if (prependSlidesIndexes.length > 0 && isPrev) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex + slidesPrepended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex + slidesPrepended, 0, false, true);\n          if (setTranslate) {\n            swiper.touchEventsData.startTranslate = swiper.touchEventsData.startTranslate - diff;\n            swiper.touchEventsData.currentTranslate = swiper.touchEventsData.currentTranslate - diff;\n          }\n        }\n      } else {\n        if (setTranslate) {\n          const shift = gridEnabled ? prependSlidesIndexes.length / params.grid.rows : prependSlidesIndexes.length;\n          swiper.slideTo(swiper.activeIndex + shift, 0, false, true);\n          swiper.touchEventsData.currentTranslate = swiper.translate;\n        }\n      }\n    } else if (appendSlidesIndexes.length > 0 && isNext) {\n      if (typeof slideRealIndex === 'undefined') {\n        const currentSlideTranslate = swiper.slidesGrid[activeIndex];\n        const newSlideTranslate = swiper.slidesGrid[activeIndex - slidesAppended];\n        const diff = newSlideTranslate - currentSlideTranslate;\n        if (byMousewheel) {\n          swiper.setTranslate(swiper.translate - diff);\n        } else {\n          swiper.slideTo(activeIndex - slidesAppended, 0, false, true);\n          if (setTranslate) {\n            swiper.touchEventsData.startTranslate = swiper.touchEventsData.startTranslate - diff;\n            swiper.touchEventsData.currentTranslate = swiper.touchEventsData.currentTranslate - diff;\n          }\n        }\n      } else {\n        const shift = gridEnabled ? appendSlidesIndexes.length / params.grid.rows : appendSlidesIndexes.length;\n        swiper.slideTo(swiper.activeIndex - shift, 0, false, true);\n      }\n    }\n  }\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  if (swiper.controller && swiper.controller.control && !byController) {\n    const loopParams = {\n      slideRealIndex,\n      direction,\n      setTranslate,\n      activeSlideIndex,\n      byController: true\n    };\n    if (Array.isArray(swiper.controller.control)) {\n      swiper.controller.control.forEach(c => {\n        if (!c.destroyed && c.params.loop) c.loopFix({\n          ...loopParams,\n          slideTo: c.params.slidesPerView === params.slidesPerView ? slideTo : false\n        });\n      });\n    } else if (swiper.controller.control instanceof swiper.constructor && swiper.controller.control.params.loop) {\n      swiper.controller.control.loopFix({\n        ...loopParams,\n        slideTo: swiper.controller.control.params.slidesPerView === params.slidesPerView ? slideTo : false\n      });\n    }\n  }\n  swiper.emit('loopFix');\n}\n\nfunction loopDestroy() {\n  const swiper = this;\n  const {\n    params,\n    slidesEl\n  } = swiper;\n  if (!params.loop || swiper.virtual && swiper.params.virtual.enabled) return;\n  swiper.recalcSlides();\n  const newSlidesOrder = [];\n  swiper.slides.forEach(slideEl => {\n    const index = typeof slideEl.swiperSlideIndex === 'undefined' ? slideEl.getAttribute('data-swiper-slide-index') * 1 : slideEl.swiperSlideIndex;\n    newSlidesOrder[index] = slideEl;\n  });\n  swiper.slides.forEach(slideEl => {\n    slideEl.removeAttribute('data-swiper-slide-index');\n  });\n  newSlidesOrder.forEach(slideEl => {\n    slidesEl.append(slideEl);\n  });\n  swiper.recalcSlides();\n  swiper.slideTo(swiper.realIndex, 0);\n}\n\nvar loop = {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};\n\nfunction setGrabCursor(moving) {\n  const swiper = this;\n  if (!swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  if (swiper.isElement) {\n    swiper.__preventObserver__ = true;\n  }\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n  if (swiper.isElement) {\n    requestAnimationFrame(() => {\n      swiper.__preventObserver__ = false;\n    });\n  }\n}\n\nfunction unsetGrabCursor() {\n  const swiper = this;\n  if (swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n  if (swiper.isElement) {\n    swiper.__preventObserver__ = true;\n  }\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n  if (swiper.isElement) {\n    requestAnimationFrame(() => {\n      swiper.__preventObserver__ = false;\n    });\n  }\n}\n\nvar grabCursor = {\n  setGrabCursor,\n  unsetGrabCursor\n};\n\n// Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n    return found || __closestFrom(el.getRootNode().host);\n  }\n  return __closestFrom(base);\n}\nfunction preventEdgeSwipe(swiper, event, startX) {\n  const window = getWindow();\n  const {\n    params\n  } = swiper;\n  const edgeSwipeDetection = params.edgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold;\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n      return true;\n    }\n    return false;\n  }\n  return true;\n}\nfunction onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  const data = swiper.touchEventsData;\n  if (e.type === 'pointerdown') {\n    if (data.pointerId !== null && data.pointerId !== e.pointerId) {\n      return;\n    }\n    data.pointerId = e.pointerId;\n  } else if (e.type === 'touchstart' && e.targetTouches.length === 1) {\n    data.touchId = e.targetTouches[0].identifier;\n  }\n  if (e.type === 'touchstart') {\n    // don't proceed touch event\n    preventEdgeSwipe(swiper, e, e.targetTouches[0].pageX);\n    return;\n  }\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && e.pointerType === 'mouse') return;\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n  let targetEl = e.target;\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!swiper.wrapperEl.contains(targetEl)) return;\n  }\n  if ('which' in e && e.which === 3) return;\n  if ('button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return;\n\n  // change target el for shadow root component\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n  // eslint-disable-next-line\n  const eventPath = e.composedPath ? e.composedPath() : e.path;\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && eventPath) {\n    targetEl = eventPath[0];\n  }\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot);\n\n  // use closestElement for shadow root element to get the actual closest for nested shadow root element\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, targetEl) : targetEl.closest(noSwipingSelector))) {\n    swiper.allowClick = true;\n    return;\n  }\n  if (params.swipeHandler) {\n    if (!targetEl.closest(params.swipeHandler)) return;\n  }\n  touches.currentX = e.pageX;\n  touches.currentY = e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY;\n\n  // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  if (!preventEdgeSwipe(swiper, e, startX)) {\n    return;\n  }\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n  let preventDefault = true;\n  if (targetEl.matches(data.focusableElements)) {\n    preventDefault = false;\n    if (targetEl.nodeName === 'SELECT') {\n      data.isTouched = false;\n    }\n  }\n  if (document.activeElement && document.activeElement.matches(data.focusableElements) && document.activeElement !== targetEl) {\n    document.activeElement.blur();\n  }\n  const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n  if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !targetEl.isContentEditable) {\n    e.preventDefault();\n  }\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n  swiper.emit('touchStart', e);\n}\n\nfunction onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && event.pointerType === 'mouse') return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  if (e.type === 'pointermove') {\n    if (data.touchId !== null) return; // return from pointer if we use touch\n    const id = e.pointerId;\n    if (id !== data.pointerId) return;\n  }\n  let targetTouch;\n  if (e.type === 'touchmove') {\n    targetTouch = [...e.changedTouches].filter(t => t.identifier === data.touchId)[0];\n    if (!targetTouch || targetTouch.identifier !== data.touchId) return;\n  } else {\n    targetTouch = e;\n  }\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n    return;\n  }\n  const pageX = targetTouch.pageX;\n  const pageY = targetTouch.pageY;\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n  if (!swiper.allowTouchMove) {\n    if (!e.target.matches(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n    return;\n  }\n  if (params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n  if (document.activeElement) {\n    if (e.target === document.activeElement && e.target.matches(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n  touches.previousX = touches.currentX;\n  touches.previousY = touches.currentY;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n  if (!data.startMoving) {\n    return;\n  }\n  swiper.allowClick = false;\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  let touchesDiff = swiper.isHorizontal() ? touches.currentX - touches.previousX : touches.currentY - touches.previousY;\n  if (params.oneWayMovement) {\n    diff = Math.abs(diff) * (rtl ? 1 : -1);\n    touchesDiff = Math.abs(touchesDiff) * (rtl ? 1 : -1);\n  }\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) {\n    diff = -diff;\n    touchesDiff = -touchesDiff;\n  }\n  const prevTouchesDirection = swiper.touchesDirection;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  swiper.touchesDirection = touchesDiff > 0 ? 'prev' : 'next';\n  const isLoop = swiper.params.loop && !params.cssMode;\n  const allowLoopFix = swiper.touchesDirection === 'next' && swiper.allowSlideNext || swiper.touchesDirection === 'prev' && swiper.allowSlidePrev;\n  if (!data.isMoved) {\n    if (isLoop && allowLoopFix) {\n      swiper.loopFix({\n        direction: swiper.swipeDirection\n      });\n    }\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n    if (swiper.animating) {\n      const evt = new window.CustomEvent('transitionend', {\n        bubbles: true,\n        cancelable: true\n      });\n      swiper.wrapperEl.dispatchEvent(evt);\n    }\n    data.allowMomentumBounce = false;\n    // Grab Cursor\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n    swiper.emit('sliderFirstMove', e);\n  }\n  let loopFixed;\n  new Date().getTime();\n  if (data.isMoved && data.allowThresholdMove && prevTouchesDirection !== swiper.touchesDirection && isLoop && allowLoopFix && Math.abs(diff) >= 1) {\n    Object.assign(touches, {\n      startX: pageX,\n      startY: pageY,\n      currentX: pageX,\n      currentY: pageY,\n      startTranslate: data.currentTranslate\n    });\n    data.loopSwapReset = true;\n    data.startTranslate = data.currentTranslate;\n    return;\n  }\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n  if (diff > 0) {\n    if (isLoop && allowLoopFix && !loopFixed && data.allowThresholdMove && data.currentTranslate > (params.centeredSlides ? swiper.minTranslate() - swiper.slidesSizesGrid[swiper.activeIndex + 1] : swiper.minTranslate())) {\n      swiper.loopFix({\n        direction: 'prev',\n        setTranslate: true,\n        activeSlideIndex: 0\n      });\n    }\n    if (data.currentTranslate > swiper.minTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n      }\n    }\n  } else if (diff < 0) {\n    if (isLoop && allowLoopFix && !loopFixed && data.allowThresholdMove && data.currentTranslate < (params.centeredSlides ? swiper.maxTranslate() + swiper.slidesSizesGrid[swiper.slidesSizesGrid.length - 1] : swiper.maxTranslate())) {\n      swiper.loopFix({\n        direction: 'next',\n        setTranslate: true,\n        activeSlideIndex: swiper.slides.length - (params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : Math.ceil(parseFloat(params.slidesPerView, 10)))\n      });\n    }\n    if (data.currentTranslate < swiper.maxTranslate()) {\n      disableParentSwiper = false;\n      if (params.resistance) {\n        data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n      }\n    }\n  }\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  }\n\n  // Directions locks\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  // Threshold\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n  if (!params.followFinger || params.cssMode) return;\n\n  // Update active index in free mode\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  }\n  // Update progress\n  swiper.updateProgress(data.currentTranslate);\n  // Update translate\n  swiper.setTranslate(data.currentTranslate);\n}\n\nfunction onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let targetTouch;\n  const isTouchEvent = e.type === 'touchend' || e.type === 'touchcancel';\n  if (!isTouchEvent) {\n    if (data.touchId !== null) return; // return from pointer if we use touch\n    if (e.pointerId !== data.pointerId) return;\n    targetTouch = e;\n  } else {\n    targetTouch = [...e.changedTouches].filter(t => t.identifier === data.touchId)[0];\n    if (!targetTouch || targetTouch.identifier !== data.touchId) return;\n  }\n  if (['pointercancel', 'pointerout', 'pointerleave', 'contextmenu'].includes(e.type)) {\n    const proceed = ['pointercancel', 'contextmenu'].includes(e.type) && (swiper.browser.isSafari || swiper.browser.isWebView);\n    if (!proceed) {\n      return;\n    }\n  }\n  data.pointerId = null;\n  data.touchId = null;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  if (!params.simulateTouch && e.pointerType === 'mouse') return;\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n  data.allowTouchCallbacks = false;\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  // Return Grab Cursor\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  }\n\n  // Time diff\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime;\n\n  // Tap, doubleTap, Click\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target, pathTree);\n    swiper.emit('tap click', e);\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 && !data.loopSwapReset || data.currentTranslate === data.startTranslate && !data.loopSwapReset) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n  if (params.cssMode) {\n    return;\n  }\n  if (params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  }\n\n  // Find current slide\n  const swipeToLast = currentPos >= -swiper.maxTranslate() && !swiper.params.loop;\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (swipeToLast || currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (swipeToLast || currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = params.virtual && params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  }\n  // Find current slide size\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}\n\nfunction onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return;\n\n  // Breakpoints\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  }\n\n  // Save locks\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper;\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n  // Disable locks on resize\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n  const isVirtualLoop = isVirtual && params.loop;\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides && !isVirtualLoop) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    if (swiper.params.loop && !isVirtual) {\n      swiper.slideToLoop(swiper.realIndex, 0, false, true);\n    } else {\n      swiper.slideTo(swiper.activeIndex, 0, false, true);\n    }\n  }\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    clearTimeout(swiper.autoplay.resizeTimeout);\n    swiper.autoplay.resizeTimeout = setTimeout(() => {\n      if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n        swiper.autoplay.resume();\n      }\n    }, 500);\n  }\n  // Return locks after resize\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}\n\nfunction onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}\n\nfunction onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  }\n  // eslint-disable-next-line\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n  swiper.emit('setTranslate', swiper.translate, false);\n}\n\nfunction onLoad(e) {\n  const swiper = this;\n  processLazyPreloader(swiper, e.target);\n  if (swiper.params.cssMode || swiper.params.slidesPerView !== 'auto' && !swiper.params.autoHeight) {\n    return;\n  }\n  swiper.update();\n}\n\nfunction onDocumentTouchStart() {\n  const swiper = this;\n  if (swiper.documentTouchHandlerProceeded) return;\n  swiper.documentTouchHandlerProceeded = true;\n  if (swiper.params.touchReleaseOnEdges) {\n    swiper.el.style.touchAction = 'auto';\n  }\n}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    el,\n    wrapperEl,\n    device\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method;\n\n  // Touch Events\n  document[domMethod]('touchstart', swiper.onDocumentTouchStart, {\n    passive: false,\n    capture\n  });\n  el[domMethod]('touchstart', swiper.onTouchStart, {\n    passive: false\n  });\n  el[domMethod]('pointerdown', swiper.onTouchStart, {\n    passive: false\n  });\n  document[domMethod]('touchmove', swiper.onTouchMove, {\n    passive: false,\n    capture\n  });\n  document[domMethod]('pointermove', swiper.onTouchMove, {\n    passive: false,\n    capture\n  });\n  document[domMethod]('touchend', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerup', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointercancel', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('touchcancel', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerout', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('pointerleave', swiper.onTouchEnd, {\n    passive: true\n  });\n  document[domMethod]('contextmenu', swiper.onTouchEnd, {\n    passive: true\n  });\n\n  // Prevent Links Clicks\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  }\n\n  // Resize handler\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n\n  // Images loader\n  el[domMethod]('load', swiper.onLoad, {\n    capture: true\n  });\n};\nfunction attachEvents() {\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n  swiper.onDocumentTouchStart = onDocumentTouchStart.bind(swiper);\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n  swiper.onClick = onClick.bind(swiper);\n  swiper.onLoad = onLoad.bind(swiper);\n  events(swiper, 'on');\n}\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\nvar events$1 = {\n  attachEvents,\n  detachEvents\n};\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\nfunction setBreakpoint() {\n  const swiper = this;\n  const {\n    realIndex,\n    initialized,\n    params,\n    el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return;\n\n  // Get breakpoint for window width and update parameters\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n  if (wasMultiRow && !isMultiRow) {\n    el.classList.remove(`${params.containerModifierClass}grid`, `${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    el.classList.add(`${params.containerModifierClass}grid`);\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      el.classList.add(`${params.containerModifierClass}grid-column`);\n    }\n    swiper.emitContainerClasses();\n  }\n\n  // Toggle navigation, pagination, scrollbar\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    if (typeof breakpointParams[prop] === 'undefined') return;\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n  const wasLoop = params.loop;\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  const hasLoop = swiper.params.loop;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n  if (initialized) {\n    if (needsReLoop) {\n      swiper.loopDestroy();\n      swiper.loopCreate(realIndex);\n      swiper.updateSlides();\n    } else if (!wasLoop && hasLoop) {\n      swiper.loopCreate(realIndex);\n      swiper.updateSlides();\n    } else if (wasLoop && !hasLoop) {\n      swiper.loopDestroy();\n    }\n  }\n  swiper.emit('breakpoint', breakpointParams);\n}\n\nfunction getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n  return breakpoint || 'max';\n}\n\nvar breakpoints = {\n  setBreakpoint,\n  getBreakpoint\n};\n\nfunction prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\nfunction addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    el,\n    device\n  } = swiper;\n  // prettier-ignore\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  el.classList.add(...classNames);\n  swiper.emitContainerClasses();\n}\n\nfunction removeClasses() {\n  const swiper = this;\n  const {\n    el,\n    classNames\n  } = swiper;\n  el.classList.remove(...classNames);\n  swiper.emitContainerClasses();\n}\n\nvar classes = {\n  addClasses,\n  removeClasses\n};\n\nfunction checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\nvar checkOverflow$1 = {\n  checkOverflow\n};\n\nvar defaults = {\n  init: true,\n  direction: 'horizontal',\n  oneWayMovement: false,\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  eventsPrefix: 'swiper',\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 5,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // loop\n  loop: false,\n  loopAddBlankSlides: true,\n  loopAdditionalSlides: 0,\n  loopPreventsSliding: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideFullyVisibleClass: 'swiper-slide-fully-visible',\n  slideNextClass: 'swiper-slide-next',\n  slidePrevClass: 'swiper-slide-prev',\n  wrapperClass: 'swiper-wrapper',\n  lazyPreloaderClass: 'swiper-lazy-preloader',\n  lazyPreloadPrevNext: 0,\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};\n\nfunction moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n    if (moduleParamName === 'navigation' && params[moduleParamName] && params[moduleParamName].enabled && !params[moduleParamName].prevEl && !params[moduleParamName].nextEl) {\n      params[moduleParamName].auto = true;\n    }\n    if (['pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] && params[moduleParamName].enabled && !params[moduleParamName].el) {\n      params[moduleParamName].auto = true;\n    }\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}\n\n/* eslint no-param-reassign: \"off\" */\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events: events$1,\n  breakpoints,\n  checkOverflow: checkOverflow$1,\n  classes\n};\nconst extendedDefaults = {};\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n    const document = getDocument();\n    if (params.el && typeof params.el === 'string' && document.querySelectorAll(params.el).length > 1) {\n      const swipers = [];\n      document.querySelectorAll(params.el).forEach(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      // eslint-disable-next-line no-constructor-return\n      return swipers;\n    }\n\n    // Swiper Instance\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        params,\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    });\n\n    // Extend defaults with modules params\n    const swiperParams = extend({}, defaults, allModulesParams);\n\n    // Extend defaults with passed params\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params);\n\n    // add event listeners\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    }\n\n    // Extend Swiper\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: [],\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      cssOverflowAdjustment() {\n        // Returns 0 unless `translate` is > 2**23\n        // Should be subtracted from css values to prevent overflow\n        return Math.trunc(this.translate / 2 ** 23) * 2 ** 23;\n      },\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: 0,\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        startMoving: undefined,\n        pointerId: null,\n        touchId: null\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper');\n\n    // Init\n    if (swiper.params.init) {\n      swiper.init();\n    }\n\n    // Return app instance\n    // eslint-disable-next-line no-constructor-return\n    return swiper;\n  }\n  getDirectionLabel(property) {\n    if (this.isHorizontal()) {\n      return property;\n    }\n    // prettier-ignore\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n  getSlideIndex(slideEl) {\n    const {\n      slidesEl,\n      params\n    } = this;\n    const slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n    const firstSlideIndex = elementIndex(slides[0]);\n    return elementIndex(slideEl) - firstSlideIndex;\n  }\n  getSlideIndexByData(index) {\n    return this.getSlideIndex(this.slides.filter(slideEl => slideEl.getAttribute('data-swiper-slide-index') * 1 === index)[0]);\n  }\n  recalcSlides() {\n    const swiper = this;\n    const {\n      slidesEl,\n      params\n    } = swiper;\n    swiper.slides = elementChildren(slidesEl, `.${params.slideClass}, swiper-slide`);\n  }\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n    swiper.emit('enable');\n  }\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n    swiper.emit('disable');\n  }\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.forEach(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n    if (exact === void 0) {\n      exact = false;\n    }\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n    if (typeof params.slidesPerView === 'number') return params.slidesPerView;\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex] ? slides[activeIndex].swiperSlideSize : 0;\n      let breakLoop;\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n    return spv;\n  }\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper;\n    // Breakpoints\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n    [...swiper.el.querySelectorAll('[loading=\"lazy\"]')].forEach(imageEl => {\n      if (imageEl.complete) {\n        processLazyPreloader(swiper, imageEl);\n      }\n    });\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n    let translated;\n    if (params.freeMode && params.freeMode.enabled && !params.cssMode) {\n      setTranslate();\n      if (params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !params.centeredSlides) {\n        const slides = swiper.virtual && params.virtual.enabled ? swiper.virtual.slides : swiper.slides;\n        translated = swiper.slideTo(slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n      if (!translated) {\n        setTranslate();\n      }\n    }\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n    swiper.emit('update');\n  }\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n    swiper.el.classList.remove(`${swiper.params.containerModifierClass}${currentDirection}`);\n    swiper.el.classList.add(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.forEach(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n    if (swiper.rtl) {\n      swiper.el.classList.add(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.el.classList.remove(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n    swiper.update();\n  }\n  mount(element) {\n    const swiper = this;\n    if (swiper.mounted) return true;\n\n    // Find el\n    let el = element || swiper.params.el;\n    if (typeof el === 'string') {\n      el = document.querySelector(el);\n    }\n    if (!el) {\n      return false;\n    }\n    el.swiper = swiper;\n    if (el.parentNode && el.parentNode.host && el.parentNode.host.nodeName === 'SWIPER-CONTAINER') {\n      swiper.isElement = true;\n    }\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = el.shadowRoot.querySelector(getWrapperSelector());\n        // Children needs to return slot items\n        return res;\n      }\n      return elementChildren(el, getWrapperSelector())[0];\n    };\n    // Find Wrapper\n    let wrapperEl = getWrapper();\n    if (!wrapperEl && swiper.params.createElements) {\n      wrapperEl = createElement('div', swiper.params.wrapperClass);\n      el.append(wrapperEl);\n      elementChildren(el, `.${swiper.params.slideClass}`).forEach(slideEl => {\n        wrapperEl.append(slideEl);\n      });\n    }\n    Object.assign(swiper, {\n      el,\n      wrapperEl,\n      slidesEl: swiper.isElement && !el.parentNode.host.slideSlots ? el.parentNode.host : wrapperEl,\n      hostEl: swiper.isElement ? el.parentNode.host : el,\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || elementStyle(el, 'direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || elementStyle(el, 'direction') === 'rtl'),\n      wrongRTL: elementStyle(wrapperEl, 'display') === '-webkit-box'\n    });\n    return true;\n  }\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit');\n\n    // Set breakpoint\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    // Add Classes\n    swiper.addClasses();\n\n    // Update size\n    swiper.updateSize();\n\n    // Update slides\n    swiper.updateSlides();\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    }\n\n    // Set Grab Cursor\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    // Slide To Initial Slide\n    if (swiper.params.loop && swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.virtual.slidesBefore, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    }\n\n    // Create loop\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    }\n\n    // Attach events\n    swiper.attachEvents();\n    const lazyElements = [...swiper.el.querySelectorAll('[loading=\"lazy\"]')];\n    if (swiper.isElement) {\n      lazyElements.push(...swiper.hostEl.querySelectorAll('[loading=\"lazy\"]'));\n    }\n    lazyElements.forEach(imageEl => {\n      if (imageEl.complete) {\n        processLazyPreloader(swiper, imageEl);\n      } else {\n        imageEl.addEventListener('load', e => {\n          processLazyPreloader(swiper, e.target);\n        });\n      }\n    });\n    preload(swiper);\n\n    // Init Flag\n    swiper.initialized = true;\n    preload(swiper);\n\n    // Emit\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n    const swiper = this;\n    const {\n      params,\n      el,\n      wrapperEl,\n      slides\n    } = swiper;\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n    swiper.emit('beforeDestroy');\n\n    // Init Flag\n    swiper.initialized = false;\n\n    // Detach events\n    swiper.detachEvents();\n\n    // Destroy loop\n    if (params.loop) {\n      swiper.loopDestroy();\n    }\n\n    // Cleanup styles\n    if (cleanStyles) {\n      swiper.removeClasses();\n      el.removeAttribute('style');\n      wrapperEl.removeAttribute('style');\n      if (slides && slides.length) {\n        slides.forEach(slideEl => {\n          slideEl.classList.remove(params.slideVisibleClass, params.slideFullyVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass);\n          slideEl.removeAttribute('style');\n          slideEl.removeAttribute('data-swiper-slide-index');\n        });\n      }\n    }\n    swiper.emit('destroy');\n\n    // Detach emitter events\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n    if (deleteInstance !== false) {\n      swiper.el.swiper = null;\n      deleteProps(swiper);\n    }\n    swiper.destroyed = true;\n    return null;\n  }\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n  static get defaults() {\n    return defaults;\n  }\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n    Swiper.installModule(module);\n    return Swiper;\n  }\n}\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\n\nexport { Swiper as S, defaults as d };\n", "import { e as elementChildren, c as createElement } from './utils.mjs';\n\nfunction createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = elementChildren(swiper.el, `.${checkProps[key]}`)[0];\n        if (!element) {\n          element = createElement('div', checkProps[key]);\n          element.className = checkProps[key];\n          swiper.el.append(element);\n        }\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n  return params;\n}\n\nexport { createElementIfNotDefined as c };\n", "function classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n  return `.${classes.trim().replace(/([\\.:!+\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}\n\nexport { classesToSelector as c };\n", "import { c as classesToSelector } from '../shared/classes-to-selector.mjs';\nimport { c as createElementIfNotDefined } from '../shared/create-element-if-not-defined.mjs';\nimport { f as elementOuterSize, g as elementIndex, a as elementParents } from '../shared/utils.mjs';\n\nfunction Pagination(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n  const makeElementsArray = el => (Array.isArray(el) ? el : [el]).filter(e => !!e);\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || Array.isArray(swiper.pagination.el) && swiper.pagination.el.length === 0;\n  }\n  function setSideBullets(bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    if (!bulletEl) return;\n    bulletEl = bulletEl[`${position === 'prev' ? 'previous' : 'next'}ElementSibling`];\n    if (bulletEl) {\n      bulletEl.classList.add(`${bulletActiveClass}-${position}`);\n      bulletEl = bulletEl[`${position === 'prev' ? 'previous' : 'next'}ElementSibling`];\n      if (bulletEl) {\n        bulletEl.classList.add(`${bulletActiveClass}-${position}-${position}`);\n      }\n    }\n  }\n  function onBulletClick(e) {\n    const bulletEl = e.target.closest(classesToSelector(swiper.params.pagination.bulletClass));\n    if (!bulletEl) {\n      return;\n    }\n    e.preventDefault();\n    const index = elementIndex(bulletEl) * swiper.params.slidesPerGroup;\n    if (swiper.params.loop) {\n      if (swiper.realIndex === index) return;\n      swiper.slideToLoop(index);\n    } else {\n      swiper.slideTo(index);\n    }\n  }\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    let el = swiper.pagination.el;\n    el = makeElementsArray(el);\n    // Current/Total\n    let current;\n    let previousIndex;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const total = swiper.params.loop ? Math.ceil(slidesLength / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n    if (swiper.params.loop) {\n      previousIndex = swiper.previousRealIndex || 0;\n      current = swiper.params.slidesPerGroup > 1 ? Math.floor(swiper.realIndex / swiper.params.slidesPerGroup) : swiper.realIndex;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n      previousIndex = swiper.previousSnapIndex;\n    } else {\n      previousIndex = swiper.previousIndex || 0;\n      current = swiper.activeIndex || 0;\n    }\n    // Types\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n      if (params.dynamicBullets) {\n        bulletSize = elementOuterSize(bullets[0], swiper.isHorizontal() ? 'width' : 'height', true);\n        el.forEach(subEl => {\n          subEl.style[swiper.isHorizontal() ? 'width' : 'height'] = `${bulletSize * (params.dynamicMainBullets + 4)}px`;\n        });\n        if (params.dynamicMainBullets > 1 && previousIndex !== undefined) {\n          dynamicBulletIndex += current - (previousIndex || 0);\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n      bullets.forEach(bulletEl => {\n        const classesToRemove = [...['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`)].map(s => typeof s === 'string' && s.includes(' ') ? s.split(' ') : s).flat();\n        bulletEl.classList.remove(...classesToRemove);\n      });\n      if (el.length > 1) {\n        bullets.forEach(bullet => {\n          const bulletIndex = elementIndex(bullet);\n          if (bulletIndex === current) {\n            bullet.classList.add(...params.bulletActiveClass.split(' '));\n          } else if (swiper.isElement) {\n            bullet.setAttribute('part', 'bullet');\n          }\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              bullet.classList.add(...`${params.bulletActiveClass}-main`.split(' '));\n            }\n            if (bulletIndex === firstIndex) {\n              setSideBullets(bullet, 'prev');\n            }\n            if (bulletIndex === lastIndex) {\n              setSideBullets(bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const bullet = bullets[current];\n        if (bullet) {\n          bullet.classList.add(...params.bulletActiveClass.split(' '));\n        }\n        if (swiper.isElement) {\n          bullets.forEach((bulletEl, bulletIndex) => {\n            bulletEl.setAttribute('part', bulletIndex === current ? 'bullet-active' : 'bullet');\n          });\n        }\n        if (params.dynamicBullets) {\n          const firstDisplayedBullet = bullets[firstIndex];\n          const lastDisplayedBullet = bullets[lastIndex];\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            if (bullets[i]) {\n              bullets[i].classList.add(...`${params.bulletActiveClass}-main`.split(' '));\n            }\n          }\n          setSideBullets(firstDisplayedBullet, 'prev');\n          setSideBullets(lastDisplayedBullet, 'next');\n        }\n      }\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.forEach(bullet => {\n          bullet.style[swiper.isHorizontal() ? offsetProp : 'top'] = `${bulletsOffset}px`;\n        });\n      }\n    }\n    el.forEach((subEl, subElIndex) => {\n      if (params.type === 'fraction') {\n        subEl.querySelectorAll(classesToSelector(params.currentClass)).forEach(fractionEl => {\n          fractionEl.textContent = params.formatFractionCurrent(current + 1);\n        });\n        subEl.querySelectorAll(classesToSelector(params.totalClass)).forEach(totalEl => {\n          totalEl.textContent = params.formatFractionTotal(total);\n        });\n      }\n      if (params.type === 'progressbar') {\n        let progressbarDirection;\n        if (params.progressbarOpposite) {\n          progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n        } else {\n          progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n        }\n        const scale = (current + 1) / total;\n        let scaleX = 1;\n        let scaleY = 1;\n        if (progressbarDirection === 'horizontal') {\n          scaleX = scale;\n        } else {\n          scaleY = scale;\n        }\n        subEl.querySelectorAll(classesToSelector(params.progressbarFillClass)).forEach(progressEl => {\n          progressEl.style.transform = `translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`;\n          progressEl.style.transitionDuration = `${swiper.params.speed}ms`;\n        });\n      }\n      if (params.type === 'custom' && params.renderCustom) {\n        subEl.innerHTML = params.renderCustom(swiper, current + 1, total);\n        if (subElIndex === 0) emit('paginationRender', subEl);\n      } else {\n        if (subElIndex === 0) emit('paginationRender', subEl);\n        emit('paginationUpdate', subEl);\n      }\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        subEl.classList[swiper.isLocked ? 'add' : 'remove'](params.lockClass);\n      }\n    });\n  }\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.grid && swiper.params.grid.rows > 1 ? swiper.slides.length / Math.ceil(swiper.params.grid.rows) : swiper.slides.length;\n    let el = swiper.pagination.el;\n    el = makeElementsArray(el);\n    let paginationHTML = '';\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil(slidesLength / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          // prettier-ignore\n          paginationHTML += `<${params.bulletElement} ${swiper.isElement ? 'part=\"bullet\"' : ''} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n    }\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n    }\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n    }\n    swiper.pagination.bullets = [];\n    el.forEach(subEl => {\n      if (params.type !== 'custom') {\n        subEl.innerHTML = paginationHTML || '';\n      }\n      if (params.type === 'bullets') {\n        swiper.pagination.bullets.push(...subEl.querySelectorAll(classesToSelector(params.bulletClass)));\n      }\n    });\n    if (params.type !== 'custom') {\n      emit('paginationRender', el[0]);\n    }\n  }\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let el;\n    if (typeof params.el === 'string' && swiper.isElement) {\n      el = swiper.el.querySelector(params.el);\n    }\n    if (!el && typeof params.el === 'string') {\n      el = [...document.querySelectorAll(params.el)];\n    }\n    if (!el) {\n      el = params.el;\n    }\n    if (!el || el.length === 0) return;\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && Array.isArray(el) && el.length > 1) {\n      el = [...swiper.el.querySelectorAll(params.el)];\n      // check if it belongs to another nested Swiper\n      if (el.length > 1) {\n        el = el.filter(subEl => {\n          if (elementParents(subEl, '.swiper')[0] !== swiper.el) return false;\n          return true;\n        })[0];\n      }\n    }\n    if (Array.isArray(el) && el.length === 1) el = el[0];\n    Object.assign(swiper.pagination, {\n      el\n    });\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      if (params.type === 'bullets' && params.clickable) {\n        subEl.classList.add(...(params.clickableClass || '').split(' '));\n      }\n      subEl.classList.add(params.modifierClass + params.type);\n      subEl.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n      if (params.type === 'bullets' && params.dynamicBullets) {\n        subEl.classList.add(`${params.modifierClass}${params.type}-dynamic`);\n        dynamicBulletIndex = 0;\n        if (params.dynamicMainBullets < 1) {\n          params.dynamicMainBullets = 1;\n        }\n      }\n      if (params.type === 'progressbar' && params.progressbarOpposite) {\n        subEl.classList.add(params.progressbarOppositeClass);\n      }\n      if (params.clickable) {\n        subEl.addEventListener('click', onBulletClick);\n      }\n      if (!swiper.enabled) {\n        subEl.classList.add(params.lockClass);\n      }\n    });\n  }\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    let el = swiper.pagination.el;\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => {\n        subEl.classList.remove(params.hiddenClass);\n        subEl.classList.remove(params.modifierClass + params.type);\n        subEl.classList.remove(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n        if (params.clickable) {\n          subEl.classList.remove(...(params.clickableClass || '').split(' '));\n          subEl.removeEventListener('click', onBulletClick);\n        }\n      });\n    }\n    if (swiper.pagination.bullets) swiper.pagination.bullets.forEach(subEl => subEl.classList.remove(...params.bulletActiveClass.split(' ')));\n  }\n  on('changeDirection', () => {\n    if (!swiper.pagination || !swiper.pagination.el) return;\n    const params = swiper.params.pagination;\n    let {\n      el\n    } = swiper.pagination;\n    el = makeElementsArray(el);\n    el.forEach(subEl => {\n      subEl.classList.remove(params.horizontalClass, params.verticalClass);\n      subEl.classList.add(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    });\n  });\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    update();\n  });\n  on('snapGridLengthChange', () => {\n    render();\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    let {\n      el\n    } = swiper.pagination;\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => subEl.classList[swiper.enabled ? 'remove' : 'add'](swiper.params.pagination.lockClass));\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const el = makeElementsArray(swiper.pagination.el);\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && el && el.length > 0 && !targetEl.classList.contains(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = el[0].classList.contains(swiper.params.pagination.hiddenClass);\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n      el.forEach(subEl => subEl.classList.toggle(swiper.params.pagination.hiddenClass));\n    }\n  });\n  const enable = () => {\n    swiper.el.classList.remove(swiper.params.pagination.paginationDisabledClass);\n    let {\n      el\n    } = swiper.pagination;\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => subEl.classList.remove(swiper.params.pagination.paginationDisabledClass));\n    }\n    init();\n    render();\n    update();\n  };\n  const disable = () => {\n    swiper.el.classList.add(swiper.params.pagination.paginationDisabledClass);\n    let {\n      el\n    } = swiper.pagination;\n    if (el) {\n      el = makeElementsArray(el);\n      el.forEach(subEl => subEl.classList.add(swiper.params.pagination.paginationDisabledClass));\n    }\n    destroy();\n  };\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}\n\nexport { Pagination as default };\n", "import { addListener } from \"../utils/functions\";\r\nimport Swiper from \"swiper\";\r\nimport { Pagination } from \"swiper/modules\";\r\n\r\nexport const story = () => {\r\n  const homePageTours = document.getElementById(\"homePageTours\");\r\n  if (!homePageTours) return;\r\n  const videos = homePageTours.querySelectorAll(\"video\");\r\n\r\n  const homePageToursSwiper = new Swiper(\"#homePageTours\", {\r\n    modules: [],\r\n    slidesPerView: \"auto\",\r\n    spaceBetween: 12,\r\n    centeredSlides: true,\r\n    loop: true,\r\n    grabCursor: true,\r\n  });\r\n\r\n  const playPause = (video) => {\r\n    if (video.paused) {\r\n      video.play();\r\n      video.parentElement.classList.add(\"playing\");\r\n      return;\r\n    }\r\n\r\n    video.pause();\r\n    video.parentElement.classList.remove(\"playing\");\r\n  };\r\n\r\n  const handleClick = (\r\n    { target },\r\n    { clickedSlide, clickedIndex, activeIndex, slideTo, slides }\r\n  ) => {\r\n    if (clickedSlide == slides[activeIndex]) {\r\n      playPause(target);\r\n      return;\r\n    }\r\n\r\n    slideTo(clickedIndex, 100);\r\n  };\r\n\r\n  videos.forEach((video) => {\r\n    addListener(video, \"click\", (e) => handleClick(e, homePageToursSwiper));\r\n\r\n    setInterval(() => {\r\n      if (video.paused) return;\r\n      const percent = (video.currentTime * 100) / video.duration;\r\n    }, 1000);\r\n  });\r\n};\r\n", "import Swiper from \"swiper\";\r\nimport { Pagination } from \"swiper/modules\";\r\n\r\nexport const defineSwipers = () => {\r\n  const gallerySwiper = new Swiper(\"#galleryPopUp .swiper\", {\r\n    modules: [Pagination],\r\n    slidesPerView: 1.5,\r\n    spaceBetween: 40,\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n    centeredSlides: true,\r\n    loop: true,\r\n    pagination: {\r\n      el: \".swiper-pagination\",\r\n      clickable: true,\r\n    },\r\n  });\r\n\r\n  const homePageTestimonials = new Swiper(\"#homePageTestimonials\", {\r\n    slidesPerView: \"auto\", //max-width in html 650px on swiper-slide\r\n    centeredSlides: true,\r\n    spaceBetween: 12,\r\n    loop: true,\r\n    width: window.innerWidth,\r\n    // autoplay: {\r\n    //   delay: 100,\r\n    // },\r\n  });\r\n};\r\n", "/** Keeps track of raw listeners added to the base elements to avoid duplication */\nconst ledger = new WeakMap();\nfunction editLedger(wanted, baseElement, callback, setup) {\n    if (!wanted && !ledger.has(baseElement)) {\n        return false;\n    }\n    const elementMap = ledger.get(baseElement)\n        ?? new WeakMap();\n    ledger.set(baseElement, elementMap);\n    const setups = elementMap.get(callback) ?? new Set();\n    elementMap.set(callback, setups);\n    const existed = setups.has(setup);\n    if (wanted) {\n        setups.add(setup);\n    }\n    else {\n        setups.delete(setup);\n    }\n    return existed && wanted;\n}\nfunction safeClosest(event, selector) {\n    let target = event.target;\n    if (target instanceof Text) {\n        target = target.parentElement;\n    }\n    if (target instanceof Element && event.currentTarget instanceof Element) {\n        // `.closest()` may match ancestors of `currentTarget` but we only need its children\n        const closest = target.closest(selector);\n        if (closest && event.currentTarget.contains(closest)) {\n            return closest;\n        }\n    }\n}\n// This type isn't exported as a declaration, so it needs to be duplicated above\nfunction delegate(selector, type, callback, options = {}) {\n    const { signal, base = document } = options;\n    if (signal?.aborted) {\n        return;\n    }\n    // Don't pass `once` to `addEventListener` because it needs to be handled in `delegate-it`\n    const { once, ...nativeListenerOptions } = options;\n    // `document` should never be the base, it's just an easy way to define \"global event listeners\"\n    const baseElement = base instanceof Document ? base.documentElement : base;\n    // Handle the regular Element usage\n    const capture = Boolean(typeof options === 'object' ? options.capture : options);\n    const listenerFn = (event) => {\n        const delegateTarget = safeClosest(event, selector);\n        if (delegateTarget) {\n            const delegateEvent = Object.assign(event, { delegateTarget });\n            callback.call(baseElement, delegateEvent);\n            if (once) {\n                baseElement.removeEventListener(type, listenerFn, nativeListenerOptions);\n                editLedger(false, baseElement, callback, setup);\n            }\n        }\n    };\n    const setup = JSON.stringify({ selector, type, capture });\n    const isAlreadyListening = editLedger(true, baseElement, callback, setup);\n    if (!isAlreadyListening) {\n        baseElement.addEventListener(type, listenerFn, nativeListenerOptions);\n    }\n    signal?.addEventListener('abort', () => {\n        editLedger(false, baseElement, callback, setup);\n    });\n}\nexport default delegate;\n", "/** Turn a string into a slug by lowercasing and replacing whitespace. */\nexport const classify = (text: string, fallback?: string): string => {\n\tconst output = String(text)\n\t\t.toLowerCase()\n\t\t// .normalize('NFD') // split an accented letter in the base letter and the acent\n\t\t// .replace(/[\\u0300-\\u036f]/g, '') // remove all previously split accents\n\t\t.replace(/[\\s/_.]+/g, '-') // replace spaces and _./ with '-'\n\t\t.replace(/[^\\w-]+/g, '') // remove all non-word chars\n\t\t.replace(/--+/g, '-') // replace repeating '-' with single '-'\n\t\t.replace(/^-+|-+$/g, ''); // trim '-' from edges\n\treturn output || fallback || '';\n};\n", "/** Get the current page URL: path name + query params. Optionally including hash. */\nexport const getCurrentUrl = ({ hash }: { hash?: boolean } = {}): string => {\n\treturn location.pathname + location.search + (hash ? location.hash : '');\n};\n", "import { getCurrentUrl } from './getCurrentUrl.js';\n\nexport interface HistoryState {\n\turl: string;\n\tsource: 'swup';\n\trandom: number;\n\tindex?: number;\n\t[key: string]: unknown;\n}\n\ntype HistoryData = Record<string, unknown>;\n\n/** Create a new history record with a custom swup identifier. */\nexport const createHistoryRecord = (url: string, data: HistoryData = {}): void => {\n\turl = url || getCurrentUrl({ hash: true });\n\tconst state: HistoryState = {\n\t\turl,\n\t\trandom: Math.random(),\n\t\tsource: 'swup',\n\t\t...data\n\t};\n\thistory.pushState(state, '', url);\n};\n\n/** Update the current history record with a custom swup identifier. */\nexport const updateHistoryRecord = (url: string | null = null, data: HistoryData = {}): void => {\n\turl = url || getCurrentUrl({ hash: true });\n\tconst currentState = (history.state as HistoryState) || {};\n\tconst state: HistoryState = {\n\t\t...currentState,\n\t\turl,\n\t\trandom: Math.random(),\n\t\tsource: 'swup',\n\t\t...data\n\t};\n\thistory.replaceState(state, '', url);\n};\n", "import delegate, {\n\ttype DelegateEventHandler,\n\ttype DelegateOptions,\n\ttype EventType\n} from 'delegate-it';\nimport type { ParseSelector } from 'typed-query-selector/parser.js';\n\nexport type DelegateEventUnsubscribe = {\n\tdestroy: () => void;\n};\n\n/** Register a delegated event listener. */\nexport const delegateEvent = <\n\tSelector extends string,\n\tTElement extends Element = ParseSelector<Selector, HTMLElement>,\n\tTEvent extends EventType = EventType\n>(\n\tselector: Selector,\n\ttype: TEvent,\n\tcallback: DelegateEventHandler<GlobalEventHandlersEventMap[TEvent], TElement>,\n\toptions?: DelegateOptions\n): DelegateEventUnsubscribe => {\n\tconst controller = new AbortController();\n\toptions = { ...options, signal: controller.signal };\n\tdelegate<Selector, TElement, TEvent>(selector, type, callback, options);\n\treturn { destroy: () => controller.abort() };\n};\n", "/**\n * A helper for creating a Location from either an element\n * or a URL object/string\n *\n */\nexport class Location extends URL {\n\tconstructor(url: URL | string, base: string = document.baseURI) {\n\t\tsuper(url.toString(), base);\n\t\t// Fix Safari bug with extending native classes\n\t\tObject.setPrototypeOf(this, Location.prototype);\n\t}\n\n\t/**\n\t * The full local path including query params.\n\t */\n\tget url(): string {\n\t\treturn this.pathname + this.search;\n\t}\n\n\t/**\n\t * Instantiate a Location from an element's href attribute\n\t * @param el\n\t * @returns new Location instance\n\t */\n\tstatic fromElement(el: Element): Location {\n\t\tconst href = el.getAttribute('href') || el.getAttribute('xlink:href') || '';\n\t\treturn new Location(href);\n\t}\n\n\t/**\n\t * Instantiate a Location from a URL object or string\n\t * @param url\n\t * @returns new Location instance\n\t */\n\tstatic fromUrl(url: URL | string): Location {\n\t\treturn new Location(url);\n\t}\n}\n", "import { match } from 'path-to-regexp';\n\nimport type {\n\tPath,\n\tParseOptions,\n\tTokensToRegexpOptions,\n\tRegexpToFunctionOptions,\n\tMatchFunction\n} from 'path-to-regexp';\n\nexport { type Path };\n\n/** Create a match function from a path pattern that checks if a URLs matches it. */\nexport const matchPath = <P extends object = object>(\n\tpath: Path,\n\toptions?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions\n): MatchFunction<P> => {\n\ttry {\n\t\treturn match<P>(path, options);\n\t} catch (error) {\n\t\tthrow new Error(`[swup] Error parsing path \"${String(path)}\":\\n${String(error)}`);\n\t}\n};\n", "import type Swup from '../Swup.js';\nimport { Location } from '../helpers.js';\nimport type { Visit } from './Visit.js';\n\n/** A page object as used by swup and its cache. */\nexport interface PageData {\n\t/** The URL of the page */\n\turl: string;\n\t/** The complete HTML response received from the server */\n\thtml: string;\n}\n\n/** Define how a page is fetched. */\nexport interface FetchOptions extends Omit<RequestInit, 'cache'> {\n\t/** The request method. */\n\tmethod?: 'GET' | 'POST';\n\t/** The body of the request: raw string, form data object or URL params. */\n\tbody?: string | FormData | URLSearchParams;\n\t/** The request timeout in milliseconds. */\n\ttimeout?: number;\n\t/** Optional visit object with additional context. @internal */\n\tvisit?: Visit;\n}\n\nexport class FetchError extends Error {\n\turl: string;\n\tstatus?: number;\n\taborted: boolean;\n\ttimedOut: boolean;\n\tconstructor(\n\t\tmessage: string,\n\t\tdetails: { url: string; status?: number; aborted?: boolean; timedOut?: boolean }\n\t) {\n\t\tsuper(message);\n\t\tthis.name = 'FetchError';\n\t\tthis.url = details.url;\n\t\tthis.status = details.status;\n\t\tthis.aborted = details.aborted || false;\n\t\tthis.timedOut = details.timedOut || false;\n\t}\n}\n\n/**\n * Fetch a page from the server, return it and cache it.\n */\nexport async function fetchPage(\n\tthis: Swup,\n\turl: URL | string,\n\toptions: FetchOptions = {}\n): Promise<PageData> {\n\turl = Location.fromUrl(url).url;\n\n\tconst { visit = this.visit } = options;\n\tconst headers = { ...this.options.requestHeaders, ...options.headers };\n\tconst timeout = options.timeout ?? this.options.timeout;\n\tconst controller = new AbortController();\n\tconst { signal } = controller;\n\toptions = { ...options, headers, signal };\n\n\tlet timedOut = false;\n\tlet timeoutId: ReturnType<typeof setTimeout> | null = null;\n\tif (timeout && timeout > 0) {\n\t\ttimeoutId = setTimeout(() => {\n\t\t\ttimedOut = true;\n\t\t\tcontroller.abort('timeout');\n\t\t}, timeout);\n\t}\n\n\t// Allow hooking before this and returning a custom response-like object (e.g. custom fetch implementation)\n\tlet response: Response;\n\ttry {\n\t\tresponse = await this.hooks.call(\n\t\t\t'fetch:request',\n\t\t\tvisit,\n\t\t\t{ url, options },\n\t\t\t(visit, { url, options }) => fetch(url, options)\n\t\t);\n\t\tif (timeoutId) {\n\t\t\tclearTimeout(timeoutId);\n\t\t}\n\t} catch (error) {\n\t\tif (timedOut) {\n\t\t\tthis.hooks.call('fetch:timeout', visit, { url });\n\t\t\tthrow new FetchError(`Request timed out: ${url}`, { url, timedOut });\n\t\t}\n\t\tif ((error as Error)?.name === 'AbortError' || signal.aborted) {\n\t\t\tthrow new FetchError(`Request aborted: ${url}`, { url, aborted: true });\n\t\t}\n\t\tthrow error;\n\t}\n\n\tconst { status, url: responseUrl } = response;\n\tconst html = await response.text();\n\n\tif (status === 500) {\n\t\tthis.hooks.call('fetch:error', visit, { status, response, url: responseUrl });\n\t\tthrow new FetchError(`Server error: ${responseUrl}`, { status, url: responseUrl });\n\t}\n\n\tif (!html) {\n\t\tthrow new FetchError(`Empty response: ${responseUrl}`, { status, url: responseUrl });\n\t}\n\n\t// Resolve real url after potential redirect\n\tconst { url: finalUrl } = Location.fromUrl(responseUrl);\n\tconst page = { url: finalUrl, html };\n\n\t// Write to cache for safe methods and non-redirects\n\tif (visit.cache.write && (!options.method || options.method === 'GET') && url === finalUrl) {\n\t\tthis.cache.set(page.url, page);\n\t}\n\n\treturn page;\n}\n", "import type Swup from '../Swup.js';\nimport { Location } from '../helpers.js';\nimport { type PageData } from './fetchPage.js';\n\nexport interface CacheData extends PageData {}\n\n/**\n * In-memory page cache.\n */\nexport class Cache {\n\t/** Swup instance this cache belongs to */\n\tprotected swup: Swup;\n\n\t/** Cached pages, indexed by URL */\n\tprotected pages: Map<string, CacheData> = new Map();\n\n\tconstructor(swup: Swup) {\n\t\tthis.swup = swup;\n\t}\n\n\t/** Number of cached pages in memory. */\n\tget size(): number {\n\t\treturn this.pages.size;\n\t}\n\n\t/** All cached pages. */\n\tget all() {\n\t\tconst copy = new Map();\n\t\tthis.pages.forEach((page, key) => {\n\t\t\tcopy.set(key, { ...page });\n\t\t});\n\t\treturn copy;\n\t}\n\n\t/** Check if the given URL has been cached. */\n\thas(url: string): boolean {\n\t\treturn this.pages.has(this.resolve(url));\n\t}\n\n\t/** Return a shallow copy of the cached page object if available. */\n\tget(url: string): CacheData | undefined {\n\t\tconst result = this.pages.get(this.resolve(url));\n\t\tif (!result) return result;\n\t\treturn { ...result };\n\t}\n\n\t/** Create a cache record for the specified URL. */\n\tset(url: string, page: CacheData) {\n\t\turl = this.resolve(url);\n\t\tpage = { ...page, url };\n\t\tthis.pages.set(url, page);\n\t\tthis.swup.hooks.callSync('cache:set', undefined, { page });\n\t}\n\n\t/** Update a cache record, overwriting or adding custom data. */\n\tupdate(url: string, payload: object) {\n\t\turl = this.resolve(url);\n\t\tconst page = { ...this.get(url), ...payload, url } as CacheData;\n\t\tthis.pages.set(url, page);\n\t}\n\n\t/** Delete a cache record. */\n\tdelete(url: string): void {\n\t\tthis.pages.delete(this.resolve(url));\n\t}\n\n\t/** Empty the cache. */\n\tclear(): void {\n\t\tthis.pages.clear();\n\t\tthis.swup.hooks.callSync('cache:clear', undefined, undefined);\n\t}\n\n\t/** Remove all cache entries that return true for a given predicate function.  */\n\tprune(predicate: (url: string, page: CacheData) => boolean): void {\n\t\tthis.pages.forEach((page, url) => {\n\t\t\tif (predicate(url, page)) {\n\t\t\t\tthis.delete(url);\n\t\t\t}\n\t\t});\n\t}\n\n\t/** Resolve URLs by making them local and letting swup resolve them. */\n\tprotected resolve(urlToResolve: string): string {\n\t\tconst { url } = Location.fromUrl(urlToResolve);\n\t\treturn this.swup.resolveUrl(url);\n\t}\n}\n", "/** Find an element by selector. */\nexport const query = (selector: string, context: Document | Element = document) => {\n\treturn context.querySelector<HTMLElement>(selector);\n};\n\n/** Find a set of elements by selector. */\nexport const queryAll = (\n\tselector: string,\n\tcontext: Document | Element = document\n): HTMLElement[] => {\n\treturn Array.from(context.querySelectorAll(selector));\n};\n\n/** Return a Promise that resolves after the next event loop. */\nexport const nextTick = (): Promise<void> => {\n\treturn new Promise((resolve) => {\n\t\trequestAnimationFrame(() => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t});\n};\n\n/** Check if an object is a Promise or a Thenable */\nexport function isPromise<T>(obj: unknown): obj is PromiseLike<T> {\n\treturn (\n\t\t!!obj &&\n\t\t(typeof obj === 'object' || typeof obj === 'function') &&\n\t\ttypeof (obj as Record<string, unknown>).then === 'function'\n\t);\n}\n\n/** Call a function as a Promise. Resolves with the returned Promsise or immediately. */\n// eslint-disable-next-line @typescript-eslint/ban-types, @typescript-eslint/no-explicit-any\nexport function runAsPromise(func: Function, args: unknown[] = []): Promise<unknown> {\n\treturn new Promise((resolve, reject) => {\n\t\tconst result: unknown = func(...args);\n\t\tif (isPromise(result)) {\n\t\t\tresult.then(resolve, reject);\n\t\t} else {\n\t\t\tresolve(result);\n\t\t}\n\t});\n}\n\n/**\n * Force a layout reflow, e.g. after adding classnames\n * @returns The offset height, just here so it doesn't get optimized away by the JS engine\n * @see https://stackoverflow.com/a/21665117/3759615\n */\nexport function forceReflow(element?: HTMLElement) {\n\telement = element || document.body;\n\treturn element?.offsetHeight;\n}\n\n/** Escape a string with special chars to not break CSS selectors. */\nexport const escapeCssIdentifier = (ident: string) => {\n\t// @ts-ignore this is for support check, so it's correct that TS complains\n\tif (window.CSS && window.CSS.escape) {\n\t\treturn CSS.escape(ident);\n\t}\n\treturn ident;\n};\n\n/** Fix for Chrome below v61 formatting CSS floats with comma in some locales. */\nexport const toMs = (s: string) => {\n\treturn Number(s.slice(0, -1).replace(',', '.')) * 1000;\n};\n", "import type Swup from '../Swup.js';\nimport { queryAll } from '../utils.js';\n\nexport class Classes {\n\tprotected swup: Swup;\n\tprotected swupClasses = [\n\t\t'to-',\n\t\t'is-changing',\n\t\t'is-rendering',\n\t\t'is-popstate',\n\t\t'is-animating',\n\t\t'is-leaving'\n\t];\n\n\tconstructor(swup: Swup) {\n\t\tthis.swup = swup;\n\t}\n\n\tprotected get selectors(): string[] {\n\t\tconst { scope } = this.swup.visit.animation;\n\t\tif (scope === 'containers') return this.swup.visit.containers;\n\t\tif (scope === 'html') return ['html'];\n\t\tif (Array.isArray(scope)) return scope;\n\t\treturn [];\n\t}\n\n\tprotected get selector(): string {\n\t\treturn this.selectors.join(',');\n\t}\n\n\tprotected get targets(): HTMLElement[] {\n\t\tif (!this.selector.trim()) return [];\n\t\treturn queryAll(this.selector);\n\t}\n\n\tadd(...classes: string[]): void {\n\t\tthis.targets.forEach((target) => target.classList.add(...classes));\n\t}\n\n\tremove(...classes: string[]): void {\n\t\tthis.targets.forEach((target) => target.classList.remove(...classes));\n\t}\n\n\tclear(): void {\n\t\tthis.targets.forEach((target) => {\n\t\t\tconst remove = target.className.split(' ').filter((c) => this.isSwupClass(c));\n\t\t\ttarget.classList.remove(...remove);\n\t\t});\n\t}\n\n\tprotected isSwupClass(className: string): boolean {\n\t\treturn this.swupClasses.some((c) => className.startsWith(c));\n\t}\n}\n", "import type Swup from '../Swup.js';\nimport type { Options } from '../Swup.js';\nimport type { HistoryAction, HistoryDirection } from './navigate.js';\n\n/** See below for the class Visit {} definition */\n// export interface Visit {}\n\nexport interface VisitFrom {\n\t/** The URL of the previous page */\n\turl: string;\n}\n\nexport interface VisitTo {\n\t/** The URL of the next page */\n\turl: string;\n\t/** The hash of the next page */\n\thash?: string;\n\t/** The HTML content of the next page */\n\thtml?: string;\n}\n\nexport interface VisitAnimation {\n\t/** Whether this visit is animated. Default: `true` */\n\tanimate: boolean;\n\t/** Whether to wait for the next page to load before starting the animation. Default: `false` */\n\twait: boolean;\n\t/** Name of a custom animation to run. */\n\tname?: string;\n\t/** Whether this animation uses the native browser ViewTransition API. Default: `false` */\n\tnative: boolean;\n\t/** Elements on which to add animation classes. Default: `html` element */\n\tscope: 'html' | 'containers' | string[];\n\t/** Selector for detecting animation timing. Default: `[class*=\"transition-\"]` */\n\tselector: Options['animationSelector'];\n}\n\nexport interface VisitScroll {\n\t/** Whether to reset the scroll position after the visit. Default: `true` */\n\treset: boolean;\n\t/** Anchor element to scroll to on the next page. */\n\ttarget?: string | false;\n}\n\nexport interface VisitTrigger {\n\t/** DOM element that triggered this visit. */\n\tel?: Element;\n\t/** DOM event that triggered this visit. */\n\tevent?: Event;\n}\n\nexport interface VisitCache {\n\t/** Whether this visit will try to load the requested page from cache. */\n\tread: boolean;\n\t/** Whether this visit will save the loaded page in cache. */\n\twrite: boolean;\n}\n\nexport interface VisitHistory {\n\t/** History action to perform: `push` for creating a new history entry, `replace` for replacing the current entry. Default: `push` */\n\taction: HistoryAction;\n\t/** Whether this visit was triggered by a browser history navigation. */\n\tpopstate: boolean;\n\t/** The direction of travel in case of a browser history navigation: backward or forward. */\n\tdirection: HistoryDirection | undefined;\n}\n\nexport interface VisitInitOptions {\n\tto: string;\n\tfrom?: string;\n\thash?: string;\n\tel?: Element;\n\tevent?: Event;\n}\n\n/** @internal */\nexport const VisitState = {\n\tCREATED: 1,\n\tQUEUED: 2,\n\tSTARTED: 3,\n\tLEAVING: 4,\n\tLOADED: 5,\n\tENTERING: 6,\n\tCOMPLETED: 7,\n\tABORTED: 8,\n\tFAILED: 9\n} as const;\n\n/** @internal */\nexport type VisitState = (typeof VisitState)[keyof typeof VisitState];\n\n/** An object holding details about the current visit. */\nexport class Visit {\n\t/** A unique ID to identify this visit */\n\tid: number;\n\t/** The current state of this visit @internal */\n\tstate: VisitState;\n\t/** The previous page, about to leave */\n\tfrom: VisitFrom;\n\t/** The next page, about to enter */\n\tto: VisitTo;\n\t/** The content containers, about to be replaced */\n\tcontainers: Options['containers'];\n\t/** Information about animated page transitions */\n\tanimation: VisitAnimation;\n\t/** What triggered this visit */\n\ttrigger: VisitTrigger;\n\t/** Cache behavior for this visit */\n\tcache: VisitCache;\n\t/** Browser history behavior on this visit */\n\thistory: VisitHistory;\n\t/** Scroll behavior on this visit */\n\tscroll: VisitScroll;\n\n\tconstructor(swup: Swup, options: VisitInitOptions) {\n\t\tconst { to, from = swup.currentPageUrl, hash, el, event } = options;\n\n\t\tthis.id = Math.random();\n\t\tthis.state = VisitState.CREATED;\n\t\tthis.from = { url: from };\n\t\tthis.to = { url: to, hash };\n\t\tthis.containers = swup.options.containers;\n\t\tthis.animation = {\n\t\t\tanimate: true,\n\t\t\twait: false,\n\t\t\tname: undefined,\n\t\t\tnative: swup.options.native,\n\t\t\tscope: swup.options.animationScope,\n\t\t\tselector: swup.options.animationSelector\n\t\t};\n\t\tthis.trigger = { el, event };\n\t\tthis.cache = {\n\t\t\tread: swup.options.cache,\n\t\t\twrite: swup.options.cache\n\t\t};\n\t\tthis.history = {\n\t\t\taction: 'push',\n\t\t\tpopstate: false,\n\t\t\tdirection: undefined\n\t\t};\n\t\tthis.scroll = {\n\t\t\treset: true,\n\t\t\ttarget: undefined\n\t\t};\n\t}\n\t/** @internal */\n\tadvance(state: VisitState) {\n\t\tif (this.state < state) {\n\t\t\tthis.state = state;\n\t\t}\n\t}\n\n\t/** @internal */\n\tabort() {\n\t\tthis.state = VisitState.ABORTED;\n\t}\n\n\t/** Is this visit done, i.e. completed, failed, or aborted? */\n\tget done(): boolean {\n\t\treturn this.state >= VisitState.COMPLETED;\n\t}\n}\n\n/** Create a new visit object. */\nexport function createVisit(this: Swup, options: VisitInitOptions): Visit {\n\treturn new Visit(this, options);\n}\n", "import type { DelegateEvent } from 'delegate-it';\n\nimport type Swup from '../Swup.js';\nimport { isPromise, runAsPromise } from '../utils.js';\nimport { Visit } from './Visit.js';\nimport type { FetchOptions, PageData } from './fetchPage.js';\n\nexport interface HookDefinitions {\n\t'animation:out:start': undefined;\n\t'animation:out:await': { skip: boolean };\n\t'animation:out:end': undefined;\n\t'animation:in:start': undefined;\n\t'animation:in:await': { skip: boolean };\n\t'animation:in:end': undefined;\n\t'animation:skip': undefined;\n\t'cache:clear': undefined;\n\t'cache:set': { page: PageData };\n\t'content:replace': { page: PageData };\n\t'content:scroll': undefined;\n\t'enable': undefined;\n\t'disable': undefined;\n\t'fetch:request': { url: string; options: FetchOptions };\n\t'fetch:error': { url: string; status: number; response: Response };\n\t'fetch:timeout': { url: string };\n\t'history:popstate': { event: PopStateEvent };\n\t'link:click': { el: HTMLAnchorElement; event: DelegateEvent<MouseEvent> };\n\t'link:self': undefined;\n\t'link:anchor': { hash: string };\n\t'link:newtab': { href: string };\n\t'page:load': { page?: PageData; cache?: boolean; options: FetchOptions };\n\t'page:view': { url: string; title: string };\n\t'scroll:top': { options: ScrollIntoViewOptions };\n\t'scroll:anchor': { hash: string; options: ScrollIntoViewOptions };\n\t'visit:start': undefined;\n\t'visit:transition': undefined;\n\t'visit:abort': undefined;\n\t'visit:end': undefined;\n}\n\nexport interface HookReturnValues {\n\t'content:scroll': Promise<boolean> | boolean;\n\t'fetch:request': Promise<Response>;\n\t'page:load': Promise<PageData>;\n\t'scroll:top': boolean;\n\t'scroll:anchor': boolean;\n}\n\nexport type HookArguments<T extends HookName> = HookDefinitions[T];\n\nexport type HookName = keyof HookDefinitions;\n\n/** A generic hook handler. */\nexport type HookHandler<T extends HookName> = (\n\t/** Context about the current visit. */\n\tvisit: Visit,\n\t/** Local arguments passed into the handler. */\n\targs: HookArguments<T>\n) => Promise<unknown> | unknown;\n\n/** A default hook handler with an expected return type. */\nexport type HookDefaultHandler<T extends HookName> = (\n\t/** Context about the current visit. */\n\tvisit: Visit,\n\t/** Local arguments passed into the handler. */\n\targs: HookArguments<T>,\n\t/** Default handler to be executed. Available if replacing an internal hook handler. */\n\tdefaultHandler?: HookDefaultHandler<T>\n) => T extends keyof HookReturnValues ? HookReturnValues[T] : Promise<unknown> | unknown;\n\nexport type Handlers = {\n\t[K in HookName]: HookHandler<K>[];\n};\n\n/** Unregister a previously registered hook handler. */\nexport type HookUnregister = () => void;\n\n/** Define when and how a hook handler is executed. */\nexport type HookOptions = {\n\t/** Execute the hook once, then remove the handler */\n\tonce?: boolean;\n\t/** Execute the hook before the internal default handler */\n\tbefore?: boolean;\n\t/** Set a priority for when to execute this hook. Lower numbers execute first. Default: `0` */\n\tpriority?: number;\n\t/** Replace the internal default handler with this hook handler */\n\treplace?: boolean;\n};\n\nexport type HookRegistration<\n\tT extends HookName,\n\tH extends HookHandler<T> | HookDefaultHandler<T> = HookHandler<T>\n> = {\n\tid: number;\n\thook: T;\n\thandler: H;\n\tdefaultHandler?: HookDefaultHandler<T>;\n} & HookOptions;\n\ntype HookEventDetail = {\n\thook: HookName;\n\targs: unknown;\n\tvisit: Visit;\n};\n\nexport type HookEvent = CustomEvent<HookEventDetail>;\n\ntype HookLedger<T extends HookName> = Map<HookHandler<T>, HookRegistration<T>>;\n\ninterface HookRegistry extends Map<HookName, HookLedger<HookName>> {\n\tget<K extends HookName>(key: K): HookLedger<K> | undefined;\n\tset<K extends HookName>(key: K, value: HookLedger<K>): this;\n}\n\n/**\n * Hook registry.\n *\n * Create, trigger and handle hooks.\n *\n */\nexport class Hooks {\n\t/** Swup instance this registry belongs to */\n\tprotected swup: Swup;\n\n\t/** Map of all registered hook handlers. */\n\tprotected registry: HookRegistry = new Map();\n\n\t// Can we deduplicate this somehow? Or make it error when not in sync with HookDefinitions?\n\t// https://stackoverflow.com/questions/53387838/how-to-ensure-an-arrays-values-the-keys-of-a-typescript-interface/53395649\n\tprotected readonly hooks: HookName[] = [\n\t\t'animation:out:start',\n\t\t'animation:out:await',\n\t\t'animation:out:end',\n\t\t'animation:in:start',\n\t\t'animation:in:await',\n\t\t'animation:in:end',\n\t\t'animation:skip',\n\t\t'cache:clear',\n\t\t'cache:set',\n\t\t'content:replace',\n\t\t'content:scroll',\n\t\t'enable',\n\t\t'disable',\n\t\t'fetch:request',\n\t\t'fetch:error',\n\t\t'fetch:timeout',\n\t\t'history:popstate',\n\t\t'link:click',\n\t\t'link:self',\n\t\t'link:anchor',\n\t\t'link:newtab',\n\t\t'page:load',\n\t\t'page:view',\n\t\t'scroll:top',\n\t\t'scroll:anchor',\n\t\t'visit:start',\n\t\t'visit:transition',\n\t\t'visit:abort',\n\t\t'visit:end'\n\t];\n\n\tconstructor(swup: Swup) {\n\t\tthis.swup = swup;\n\t\tthis.init();\n\t}\n\n\t/**\n\t * Create ledgers for all core hooks.\n\t */\n\tprotected init() {\n\t\tthis.hooks.forEach((hook) => this.create(hook));\n\t}\n\n\t/**\n\t * Create a new hook type.\n\t */\n\tcreate(hook: string) {\n\t\tif (!this.registry.has(hook as HookName)) {\n\t\t\tthis.registry.set(hook as HookName, new Map());\n\t\t}\n\t}\n\n\t/**\n\t * Check if a hook type exists.\n\t */\n\texists(hook: HookName): boolean {\n\t\treturn this.registry.has(hook);\n\t}\n\n\t/**\n\t * Get the ledger with all registrations for a hook.\n\t */\n\tprotected get<T extends HookName>(hook: T): HookLedger<T> | undefined {\n\t\tconst ledger = this.registry.get(hook);\n\t\tif (ledger) {\n\t\t\treturn ledger;\n\t\t}\n\t\tconsole.error(`Unknown hook '${hook}'`);\n\t}\n\n\t/**\n\t * Remove all handlers of all hooks.\n\t */\n\tclear() {\n\t\tthis.registry.forEach((ledger) => ledger.clear());\n\t}\n\n\t/**\n\t * Register a new hook handler.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute\n\t * @param options Object to specify how and when the handler is executed\n\t *                Available options:\n\t *                - `once`: Only execute the handler once\n\t *                - `before`: Execute the handler before the default handler\n\t *                - `priority`: Specify the order in which the handlers are executed\n\t *                - `replace`: Replace the default handler with this handler\n\t * @returns A function to unregister the handler\n\t */\n\n\t// Overload: replacing default handler\n\ton<T extends HookName, O extends HookOptions>(hook: T, handler: HookDefaultHandler<T>, options: O & { replace: true }): HookUnregister; // prettier-ignore\n\t// Overload: passed in handler options\n\ton<T extends HookName, O extends HookOptions>(hook: T, handler: HookHandler<T>, options: O): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\ton<T extends HookName>(hook: T, handler: HookHandler<T>): HookUnregister; // prettier-ignore\n\t// Implementation\n\ton<T extends HookName, O extends HookOptions>(\n\t\thook: T,\n\t\thandler: O['replace'] extends true ? HookDefaultHandler<T> : HookHandler<T>,\n\t\toptions: Partial<O> = {}\n\t): HookUnregister {\n\t\tconst ledger = this.get(hook);\n\t\tif (!ledger) {\n\t\t\tconsole.warn(`Hook '${hook}' not found.`);\n\t\t\treturn () => {};\n\t\t}\n\n\t\tconst id = ledger.size + 1;\n\t\tconst registration: HookRegistration<T> = { ...options, id, hook, handler };\n\t\tledger.set(handler, registration);\n\n\t\treturn () => this.off(hook, handler);\n\t}\n\n\t/**\n\t * Register a new hook handler to run before the default handler.\n\t * Shortcut for `hooks.on(hook, handler, { before: true })`.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute\n\t * @param options Any other event options (see `hooks.on()` for details)\n\t * @returns A function to unregister the handler\n\t * @see on\n\t */\n\t// Overload: passed in handler options\n\tbefore<T extends HookName>(hook: T, handler: HookHandler<T>, options: HookOptions): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\tbefore<T extends HookName>(hook: T, handler: HookHandler<T>): HookUnregister;\n\t// Implementation\n\tbefore<T extends HookName>(\n\t\thook: T,\n\t\thandler: HookHandler<T>,\n\t\toptions: HookOptions = {}\n\t): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, before: true });\n\t}\n\n\t/**\n\t * Register a new hook handler to replace the default handler.\n\t * Shortcut for `hooks.on(hook, handler, { replace: true })`.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute instead of the default handler\n\t * @param options Any other event options (see `hooks.on()` for details)\n\t * @returns A function to unregister the handler\n\t * @see on\n\t */\n\t// Overload: passed in handler options\n\treplace<T extends HookName>(hook: T, handler: HookDefaultHandler<T>, options: HookOptions): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\treplace<T extends HookName>(hook: T, handler: HookDefaultHandler<T>): HookUnregister; // prettier-ignore\n\t// Implementation\n\treplace<T extends HookName>(\n\t\thook: T,\n\t\thandler: HookDefaultHandler<T>,\n\t\toptions: HookOptions = {}\n\t): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, replace: true });\n\t}\n\n\t/**\n\t * Register a new hook handler to run once.\n\t * Shortcut for `hooks.on(hook, handler, { once: true })`.\n\t * @param hook Name of the hook to listen for\n\t * @param handler The handler function to execute\n\t * @param options Any other event options (see `hooks.on()` for details)\n\t * @see on\n\t */\n\t// Overload: passed in handler options\n\tonce<T extends HookName>(hook: T, handler: HookHandler<T>, options: HookOptions): HookUnregister; // prettier-ignore\n\t// Overload: no handler options\n\tonce<T extends HookName>(hook: T, handler: HookHandler<T>): HookUnregister;\n\t// Implementation\n\tonce<T extends HookName>(\n\t\thook: T,\n\t\thandler: HookHandler<T>,\n\t\toptions: HookOptions = {}\n\t): HookUnregister {\n\t\treturn this.on(hook, handler, { ...options, once: true });\n\t}\n\n\t/**\n\t * Unregister a hook handler.\n\t * @param hook Name of the hook the handler is registered for\n\t * @param handler The handler function that was registered.\n\t *                If omitted, all handlers for the hook will be removed.\n\t */\n\t// Overload: unregister a specific handler\n\toff<T extends HookName>(hook: T, handler: HookHandler<T> | HookDefaultHandler<T>): void;\n\t// Overload: unregister all handlers\n\toff<T extends HookName>(hook: T): void;\n\t// Implementation\n\toff<T extends HookName>(hook: T, handler?: HookHandler<T> | HookDefaultHandler<T>): void {\n\t\tconst ledger = this.get(hook);\n\t\tif (ledger && handler) {\n\t\t\tconst deleted = ledger.delete(handler);\n\t\t\tif (!deleted) {\n\t\t\t\tconsole.warn(`Handler for hook '${hook}' not found.`);\n\t\t\t}\n\t\t} else if (ledger) {\n\t\t\tledger.clear();\n\t\t}\n\t}\n\n\t/**\n\t * Trigger a hook asynchronously, executing its default handler and all registered handlers.\n\t * Will execute all handlers in order and `await` any `Promise`s they return.\n\t * @param hook Name of the hook to trigger\n\t * @param visit The visit object this hook belongs to\n\t * @param args Arguments to pass to the handler\n\t * @param defaultHandler A default implementation of this hook to execute\n\t * @returns The resolved return value of the executed default handler\n\t */\n\t// Overload: default order of arguments\n\tasync call<T extends HookName>(hook: T, visit: Visit | undefined, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>>; // prettier-ignore\n\t// Overload: legacy order of arguments, with visit missing\n\tasync call<T extends HookName>(hook: T, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>>; // prettier-ignore\n\t// Implementation\n\tasync call<T extends HookName>(\n\t\thook: T,\n\t\targ1: Visit | HookArguments<T>,\n\t\targ2: HookArguments<T> | HookDefaultHandler<T>,\n\t\targ3?: HookDefaultHandler<T>\n\t): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>> {\n\t\tconst [visit, args, defaultHandler] = this.parseCallArgs(hook, arg1, arg2, arg3);\n\n\t\tconst { before, handler, after } = this.getHandlers(hook, defaultHandler);\n\t\tawait this.run(before, visit, args);\n\t\tconst [result] = await this.run(handler, visit, args);\n\t\tawait this.run(after, visit, args);\n\t\tthis.dispatchDomEvent(hook, visit, args);\n\t\treturn result;\n\t}\n\n\t/**\n\t * Trigger a hook synchronously, executing its default handler and all registered handlers.\n\t * Will execute all handlers in order, but will **not** `await` any `Promise`s they return.\n\t * @param hook Name of the hook to trigger\n\t * @param visit The visit object this hook belongs to\n\t * @param args Arguments to pass to the handler\n\t * @param defaultHandler A default implementation of this hook to execute\n\t * @returns The (possibly unresolved) return value of the executed default handler\n\t */\n\t// Overload: default order of arguments\n\tcallSync<T extends HookName>(hook: T, visit: Visit | undefined, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): ReturnType<HookDefaultHandler<T>>; // prettier-ignore\n\t// Overload: legacy order of arguments, with visit missing\n\tcallSync<T extends HookName>(hook: T, args: HookArguments<T>, defaultHandler?: HookDefaultHandler<T>): ReturnType<HookDefaultHandler<T>>; // prettier-ignore\n\t// Implementation\n\tcallSync<T extends HookName>(\n\t\thook: T,\n\t\targ1: Visit | HookArguments<T>,\n\t\targ2: HookArguments<T> | HookDefaultHandler<T>,\n\t\targ3?: HookDefaultHandler<T>\n\t): ReturnType<HookDefaultHandler<T>> {\n\t\tconst [visit, args, defaultHandler] = this.parseCallArgs(hook, arg1, arg2, arg3);\n\t\tconst { before, handler, after } = this.getHandlers(hook, defaultHandler);\n\t\tthis.runSync(before, visit, args);\n\t\tconst [result] = this.runSync(handler, visit, args);\n\t\tthis.runSync(after, visit, args);\n\t\tthis.dispatchDomEvent(hook, visit, args);\n\t\treturn result;\n\t}\n\n\t/**\n\t * Parse the call arguments for call() and callSync() to allow legacy argument order.\n\t */\n\tprotected parseCallArgs<T extends HookName>(\n\t\thook: T,\n\t\targ1: Visit | HookArguments<T> | undefined,\n\t\targ2: HookArguments<T> | HookDefaultHandler<T>,\n\t\targ3?: HookDefaultHandler<T>\n\t): [Visit | undefined, HookArguments<T>, HookDefaultHandler<T> | undefined] {\n\t\tconst isLegacyOrder =\n\t\t\t!(arg1 instanceof Visit) && (typeof arg1 === 'object' || typeof arg2 === 'function');\n\t\tif (isLegacyOrder) {\n\t\t\t// Legacy positioning: arguments in second or handler passed in third place\n\t\t\treturn [undefined, arg1 as HookArguments<T>, arg2 as HookDefaultHandler<T>];\n\t\t} else {\n\t\t\t// Default positioning: visit passed in as first argument\n\t\t\treturn [arg1, arg2 as HookArguments<T>, arg3];\n\t\t}\n\t}\n\n\t/**\n\t * Execute the handlers for a hook, in order, as `Promise`s that will be `await`ed.\n\t * @param registrations The registrations (handler + options) to execute\n\t * @param args Arguments to pass to the handler\n\t */\n\n\t// Overload: running HookDefaultHandler: expect HookDefaultHandler return type\n\tprotected async run<T extends HookName>(registrations: HookRegistration<T, HookDefaultHandler<T>>[], visit: Visit | undefined, args: HookArguments<T>): Promise<Awaited<ReturnType<HookDefaultHandler<T>>>[]>; // prettier-ignore\n\t// Overload:  running user handler: expect no specific type\n\tprotected async run<T extends HookName>(registrations: HookRegistration<T>[], visit: Visit | undefined, args: HookArguments<T>): Promise<unknown[]>; // prettier-ignore\n\t// Implementation\n\tprotected async run<T extends HookName, R extends HookRegistration<T>[]>(\n\t\tregistrations: R,\n\t\tvisit: Visit | undefined,\n\t\targs: HookArguments<T>\n\t): Promise<Awaited<ReturnType<HookDefaultHandler<T>>> | unknown[]> {\n\t\tconst results = [];\n\t\tfor (const { hook, handler, defaultHandler, once } of registrations) {\n\t\t\tif (visit?.done) continue;\n\t\t\tif (once) this.off(hook, handler);\n\t\t\tconst result = await runAsPromise(handler, [\n\t\t\t\tvisit || this.swup.visit,\n\t\t\t\targs,\n\t\t\t\tdefaultHandler\n\t\t\t]);\n\t\t\tresults.push(result);\n\t\t}\n\t\treturn results;\n\t}\n\n\t/**\n\t * Execute the handlers for a hook, in order, without `await`ing any returned `Promise`s.\n\t * @param registrations The registrations (handler + options) to execute\n\t * @param args Arguments to pass to the handler\n\t */\n\n\t// Overload: running HookDefaultHandler: expect HookDefaultHandler return type\n\tprotected runSync<T extends HookName>(registrations: HookRegistration<T, HookDefaultHandler<T>>[], visit: Visit | undefined, args: HookArguments<T> ): ReturnType<HookDefaultHandler<T>>[]; // prettier-ignore\n\t// Overload: running user handler: expect no specific type\n\tprotected runSync<T extends HookName>(registrations: HookRegistration<T>[], visit: Visit | undefined, args: HookArguments<T>): unknown[]; // prettier-ignore\n\t// Implementation\n\tprotected runSync<T extends HookName, R extends HookRegistration<T>[]>(\n\t\tregistrations: R,\n\t\tvisit: Visit | undefined,\n\t\targs: HookArguments<T>\n\t): (ReturnType<HookDefaultHandler<T>> | unknown)[] {\n\t\tconst results = [];\n\t\tfor (const { hook, handler, defaultHandler, once } of registrations) {\n\t\t\tif (visit?.done) continue;\n\t\t\tif (once) this.off(hook, handler);\n\t\t\tconst result = (handler as HookDefaultHandler<T>)(visit || this.swup.visit, args, defaultHandler); // prettier-ignore\n\t\t\tresults.push(result);\n\t\t\tif (isPromise(result)) {\n\t\t\t\tconsole.warn(\n\t\t\t\t\t`Promise returned from handler for synchronous hook '${hook}'.` +\n\t\t\t\t\t\t`Swup will not wait for it to resolve.`\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn results;\n\t}\n\n\t/**\n\t * Get all registered handlers for a hook, sorted by priority and registration order.\n\t * @param hook Name of the hook\n\t * @param defaultHandler The optional default handler of this hook\n\t * @returns An object with the handlers sorted into `before` and `after` arrays,\n\t *          as well as a flag indicating if the original handler was replaced\n\t */\n\tprotected getHandlers<T extends HookName>(hook: T, defaultHandler?: HookDefaultHandler<T>) {\n\t\tconst ledger = this.get(hook);\n\t\tif (!ledger) {\n\t\t\treturn { found: false, before: [], handler: [], after: [], replaced: false };\n\t\t}\n\n\t\tconst registrations = Array.from(ledger.values());\n\n\t\t// Let TypeScript know that replaced handlers are default handlers by filtering to true\n\t\tconst def = (T: HookRegistration<T>): T is HookRegistration<T, HookDefaultHandler<T>> => true; // prettier-ignore\n\t\tconst sort = this.sortRegistrations;\n\n\t\t// Filter into before, after, and replace handlers\n\t\tconst before = registrations.filter(({ before, replace }) => before && !replace).sort(sort);\n\t\tconst replace = registrations.filter(({ replace }) => replace).filter(def).sort(sort); // prettier-ignore\n\t\tconst after = registrations.filter(({ before, replace }) => !before && !replace).sort(sort);\n\t\tconst replaced = replace.length > 0;\n\n\t\t// Define main handler registration\n\t\t// Created as HookRegistration[] array to allow passing it into hooks.run() directly\n\t\tlet handler: HookRegistration<T, HookDefaultHandler<T>>[] = [];\n\t\tif (defaultHandler) {\n\t\t\thandler = [{ id: 0, hook, handler: defaultHandler }];\n\t\t\tif (replaced) {\n\t\t\t\tconst index = replace.length - 1;\n\t\t\t\tconst replacingHandler = replace[index].handler;\n\t\t\t\tconst createDefaultHandler = (index: number): HookDefaultHandler<T> | undefined => {\n\t\t\t\t\tconst next = replace[index - 1];\n\t\t\t\t\tif (next) {\n\t\t\t\t\t\treturn (visit, args) =>\n\t\t\t\t\t\t\tnext.handler(visit, args, createDefaultHandler(index - 1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn defaultHandler;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tconst nestedDefaultHandler = createDefaultHandler(index);\n\t\t\t\thandler = [\n\t\t\t\t\t{ id: 0, hook, handler: replacingHandler, defaultHandler: nestedDefaultHandler }\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\treturn { found: true, before, handler, after, replaced };\n\t}\n\n\t/**\n\t * Sort two hook registrations by priority and registration order.\n\t * @param a The registration object to compare\n\t * @param b The other registration object to compare with\n\t * @returns The sort direction\n\t */\n\tprotected sortRegistrations<T extends HookName>(\n\t\ta: HookRegistration<T>,\n\t\tb: HookRegistration<T>\n\t): number {\n\t\tconst priority = (a.priority ?? 0) - (b.priority ?? 0);\n\t\tconst id = a.id - b.id;\n\t\treturn priority || id || 0;\n\t}\n\n\t/**\n\t * Dispatch a custom event on the `document` for a hook. Prefixed with `swup:`\n\t * @param hook Name of the hook.\n\t */\n\tprotected dispatchDomEvent<T extends HookName>(\n\t\thook: T,\n\t\tvisit: Visit | undefined,\n\t\targs?: HookArguments<T>\n\t): void {\n\t\tif (visit?.done) return;\n\n\t\tconst detail: HookEventDetail = { hook, args, visit: visit || this.swup.visit };\n\t\tdocument.dispatchEvent(\n\t\t\tnew CustomEvent<HookEventDetail>(`swup:any`, { detail, bubbles: true })\n\t\t);\n\t\tdocument.dispatchEvent(\n\t\t\tnew CustomEvent<HookEventDetail>(`swup:${hook}`, { detail, bubbles: true })\n\t\t);\n\t}\n}\n", "import { escapeCssIdentifier as escape, query } from '../utils.js';\n\n/**\n * Find the anchor element for a given hash.\n *\n * @param hash Hash with or without leading '#'\n * @returns The element, if found, or null.\n *\n * @see https://html.spec.whatwg.org/#find-a-potential-indicated-element\n */\nexport const getAnchorElement = (hash?: string): Element | null => {\n\tif (hash && hash.charAt(0) === '#') {\n\t\thash = hash.substring(1);\n\t}\n\n\tif (!hash) {\n\t\treturn null;\n\t}\n\n\tconst decoded = decodeURIComponent(hash);\n\tlet element =\n\t\tdocument.getElementById(hash) ||\n\t\tdocument.getElementById(decoded) ||\n\t\tquery(`a[name='${escape(hash)}']`) ||\n\t\tquery(`a[name='${escape(decoded)}']`);\n\n\tif (!element && hash === 'top') {\n\t\telement = document.body;\n\t}\n\n\treturn element;\n};\n", "import { queryAll, toMs } from '../utils.js';\nimport type Swup from '../Swup.js';\nimport type { Options } from '../Swup.js';\n\nconst TRANSITION = 'transition';\nconst ANIMATION = 'animation';\n\ntype AnimationTypes = typeof TRANSITION | typeof ANIMATION;\ntype AnimationProperties = 'Delay' | 'Duration';\ntype AnimationStyleKeys = `${AnimationTypes}${AnimationProperties}` | 'transitionProperty';\ntype AnimationStyleDeclarations = Pick<CSSStyleDeclaration, AnimationStyleKeys>;\n\nexport type AnimationDirection = 'in' | 'out';\n\n/**\n * Return a Promise that resolves when all CSS animations and transitions\n * are done on the page. Filters by selector or takes elements directly.\n */\nexport async function awaitAnimations(\n\tthis: Swup,\n\t{\n\t\telements,\n\t\tselector\n\t}: {\n\t\tselector: Options['animationSelector'];\n\t\telements?: NodeListOf<HTMLElement> | HTMLElement[];\n\t}\n): Promise<void> {\n\t// Allow usage of swup without animations: { animationSelector: false }\n\tif (selector === false && !elements) {\n\t\treturn;\n\t}\n\n\t// Allow passing in elements\n\tlet animatedElements: HTMLElement[] = [];\n\tif (elements) {\n\t\tanimatedElements = Array.from(elements);\n\t} else if (selector) {\n\t\tanimatedElements = queryAll(selector, document.body);\n\t\t// Warn if no elements match the selector, but keep things going\n\t\tif (!animatedElements.length) {\n\t\t\tconsole.warn(`[swup] No elements found matching animationSelector \\`${selector}\\``);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst awaitedAnimations = animatedElements.map((el) => awaitAnimationsOnElement(el));\n\tconst hasAnimations = awaitedAnimations.filter(Boolean).length > 0;\n\tif (!hasAnimations) {\n\t\tif (selector) {\n\t\t\tconsole.warn(\n\t\t\t\t`[swup] No CSS animation duration defined on elements matching \\`${selector}\\``\n\t\t\t);\n\t\t}\n\t\treturn;\n\t}\n\n\tawait Promise.all(awaitedAnimations);\n}\n\nfunction awaitAnimationsOnElement(element: Element): Promise<void> | false {\n\tconst { type, timeout, propCount } = getTransitionInfo(element);\n\n\t// Resolve immediately if no transition defined\n\tif (!type || !timeout) {\n\t\treturn false;\n\t}\n\n\treturn new Promise((resolve) => {\n\t\tconst endEvent = `${type}end`;\n\t\tconst startTime = performance.now();\n\t\tlet propsTransitioned = 0;\n\n\t\tconst end = () => {\n\t\t\telement.removeEventListener(endEvent, onEnd);\n\t\t\tresolve();\n\t\t};\n\n\t\tconst onEnd: EventListener = (event) => {\n\t\t\t// Skip transitions on child elements\n\t\t\tif (event.target !== element) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!isTransitionOrAnimationEvent(event)) {\n\t\t\t\tthrow new Error('Not a transition or animation event.');\n\t\t\t}\n\n\t\t\t// Skip transitions that happened before we started listening\n\t\t\tconst elapsedTime = (performance.now() - startTime) / 1000;\n\t\t\tif (elapsedTime < event.elapsedTime) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// End if all properties have transitioned\n\t\t\tif (++propsTransitioned >= propCount) {\n\t\t\t\tend();\n\t\t\t}\n\t\t};\n\n\t\tsetTimeout(() => {\n\t\t\tif (propsTransitioned < propCount) {\n\t\t\t\tend();\n\t\t\t}\n\t\t}, timeout + 1);\n\n\t\telement.addEventListener(endEvent, onEnd);\n\t});\n}\n\nexport function getTransitionInfo(element: Element, expectedType?: AnimationTypes) {\n\tconst styles = window.getComputedStyle(element) as AnimationStyleDeclarations;\n\n\tconst transitionDelays = getStyleProperties(styles, `${TRANSITION}Delay`);\n\tconst transitionDurations = getStyleProperties(styles, `${TRANSITION}Duration`);\n\tconst transitionTimeout = calculateTimeout(transitionDelays, transitionDurations);\n\tconst animationDelays = getStyleProperties(styles, `${ANIMATION}Delay`);\n\tconst animationDurations = getStyleProperties(styles, `${ANIMATION}Duration`);\n\tconst animationTimeout = calculateTimeout(animationDelays, animationDurations);\n\n\tlet type: AnimationTypes | null = null;\n\tlet timeout = 0;\n\tlet propCount = 0;\n\n\tif (expectedType === TRANSITION) {\n\t\tif (transitionTimeout > 0) {\n\t\t\ttype = TRANSITION;\n\t\t\ttimeout = transitionTimeout;\n\t\t\tpropCount = transitionDurations.length;\n\t\t}\n\t} else if (expectedType === ANIMATION) {\n\t\tif (animationTimeout > 0) {\n\t\t\ttype = ANIMATION;\n\t\t\ttimeout = animationTimeout;\n\t\t\tpropCount = animationDurations.length;\n\t\t}\n\t} else {\n\t\ttimeout = Math.max(transitionTimeout, animationTimeout);\n\t\ttype = timeout > 0 ? (transitionTimeout > animationTimeout ? TRANSITION : ANIMATION) : null;\n\t\tpropCount = type\n\t\t\t? type === TRANSITION\n\t\t\t\t? transitionDurations.length\n\t\t\t\t: animationDurations.length\n\t\t\t: 0;\n\t}\n\n\treturn {\n\t\ttype,\n\t\ttimeout,\n\t\tpropCount\n\t};\n}\n\nfunction isTransitionOrAnimationEvent(event: Event): event is TransitionEvent | AnimationEvent {\n\treturn [`${TRANSITION}end`, `${ANIMATION}end`].includes(event.type);\n}\n\nfunction getStyleProperties(styles: AnimationStyleDeclarations, key: AnimationStyleKeys): string[] {\n\treturn (styles[key] || '').split(', ');\n}\n\nfunction calculateTimeout(delays: string[], durations: string[]): number {\n\twhile (delays.length < durations.length) {\n\t\tdelays = delays.concat(delays);\n\t}\n\n\treturn Math.max(...durations.map((duration, i) => toMs(duration) + toMs(delays[i])));\n}\n", "import type Swup from '../Swup.js';\nimport { FetchError, type FetchOptions, type PageData } from './fetchPage.js';\nimport { type VisitInitOptions, type Visit, VisitState } from './Visit.js';\nimport {\n\tcreateHistoryRecord,\n\tupdateHistoryRecord,\n\tgetCurrentUrl,\n\tLocation,\n\tclassify\n} from '../helpers.js';\n\nexport type HistoryAction = 'push' | 'replace';\nexport type HistoryDirection = 'forwards' | 'backwards';\nexport type NavigationToSelfAction = 'scroll' | 'navigate';\nexport type CacheControl = Partial<{ read: boolean; write: boolean }>;\n\n/** Define how to navigate to a page. */\ntype NavigationOptions = {\n\t/** Whether this visit is animated. Default: `true` */\n\tanimate?: boolean;\n\t/** Name of a custom animation to run. */\n\tanimation?: string;\n\t/** History action to perform: `push` for creating a new history entry, `replace` for replacing the current entry. Default: `push` */\n\thistory?: HistoryAction;\n\t/** Whether this visit should read from or write to the cache. */\n\tcache?: CacheControl;\n};\n\n/**\n * Navigate to a new URL.\n * @param url The URL to navigate to.\n * @param options Options for how to perform this visit.\n * @returns Promise<void>\n */\nexport function navigate(\n\tthis: Swup,\n\turl: string,\n\toptions: NavigationOptions & FetchOptions = {},\n\tinit: Omit<VisitInitOptions, 'to'> = {}\n) {\n\tif (typeof url !== 'string') {\n\t\tthrow new Error(`swup.navigate() requires a URL parameter`);\n\t}\n\n\t// Check if the visit should be ignored\n\tif (this.shouldIgnoreVisit(url, { el: init.el, event: init.event })) {\n\t\twindow.location.href = url;\n\t\treturn;\n\t}\n\n\tconst { url: to, hash } = Location.fromUrl(url);\n\n\tconst visit = this.createVisit({ ...init, to, hash });\n\tthis.performNavigation(visit, options);\n}\n\n/**\n * Start a visit to a new URL.\n *\n * Internal method that assumes the visit context has already been created.\n *\n * As a user, you should call `swup.navigate(url)` instead.\n *\n * @param url The URL to navigate to.\n * @param options Options for how to perform this visit.\n * @returns Promise<void>\n */\nexport async function performNavigation(\n\tthis: Swup,\n\tvisit: Visit,\n\toptions: NavigationOptions & FetchOptions = {}\n): Promise<void> {\n\tif (this.navigating) {\n\t\tif (this.visit.state >= VisitState.ENTERING) {\n\t\t\t// Currently navigating and content already loaded? Finish and queue\n\t\t\tvisit.state = VisitState.QUEUED;\n\t\t\tthis.onVisitEnd = () => this.performNavigation(visit, options);\n\t\t\treturn;\n\t\t} else {\n\t\t\t// Currently navigating and content not loaded? Abort running visit\n\t\t\tawait this.hooks.call('visit:abort', this.visit, undefined);\n\t\t\tthis.visit.state = VisitState.ABORTED;\n\t\t}\n\t}\n\n\tthis.navigating = true;\n\tthis.visit = visit;\n\n\tconst { el } = visit.trigger;\n\toptions.referrer = options.referrer || this.currentPageUrl;\n\n\tif (options.animate === false) {\n\t\tvisit.animation.animate = false;\n\t}\n\n\t// Clean up old animation classes\n\tif (!visit.animation.animate) {\n\t\tthis.classes.clear();\n\t}\n\n\t// Get history action from option or attribute on trigger element\n\tconst history = options.history || el?.getAttribute('data-swup-history') || undefined;\n\tif (history && ['push', 'replace'].includes(history)) {\n\t\tvisit.history.action = history as HistoryAction;\n\t}\n\n\t// Get custom animation name from option or attribute on trigger element\n\tconst animation = options.animation || el?.getAttribute('data-swup-animation') || undefined;\n\tif (animation) {\n\t\tvisit.animation.name = animation;\n\t}\n\n\t// Sanitize cache option\n\tif (typeof options.cache === 'object') {\n\t\tvisit.cache.read = options.cache.read ?? visit.cache.read;\n\t\tvisit.cache.write = options.cache.write ?? visit.cache.write;\n\t} else if (options.cache !== undefined) {\n\t\tvisit.cache = { read: !!options.cache, write: !!options.cache };\n\t}\n\t// Delete this so that window.fetch doesn't mis-interpret it\n\tdelete options.cache;\n\n\ttry {\n\t\tawait this.hooks.call('visit:start', visit, undefined);\n\t\tvisit.state = VisitState.STARTED;\n\n\t\t// Begin loading page\n\t\tconst page = this.hooks.call('page:load', visit, { options }, async (visit, args) => {\n\t\t\t// Read from cache\n\t\t\tlet cachedPage: PageData | undefined;\n\t\t\tif (visit.cache.read) {\n\t\t\t\tcachedPage = this.cache.get(visit.to.url);\n\t\t\t}\n\n\t\t\targs.page = cachedPage || (await this.fetchPage(visit.to.url, args.options));\n\t\t\targs.cache = !!cachedPage;\n\n\t\t\treturn args.page;\n\t\t});\n\n\t\t// When page loaded: mark visit as loaded, save html into visit object\n\t\tpage.then(({ html }) => {\n\t\t\tvisit.advance(VisitState.LOADED);\n\t\t\tvisit.to.html = html;\n\t\t});\n\n\t\t// Create/update history record if this is not a popstate call or leads to the same URL\n\t\tif (!visit.history.popstate) {\n\t\t\t// Add the hash directly from the trigger element\n\t\t\tconst newUrl = visit.to.url + visit.to.hash;\n\t\t\tif (visit.history.action === 'replace' || visit.to.url === this.currentPageUrl) {\n\t\t\t\tupdateHistoryRecord(newUrl);\n\t\t\t} else {\n\t\t\t\tthis.currentHistoryIndex++;\n\t\t\t\tcreateHistoryRecord(newUrl, { index: this.currentHistoryIndex });\n\t\t\t}\n\t\t}\n\n\t\tthis.currentPageUrl = getCurrentUrl();\n\n\t\t// Mark visit type with classes\n\t\tif (visit.history.popstate) {\n\t\t\tthis.classes.add('is-popstate');\n\t\t}\n\t\tif (visit.animation.name) {\n\t\t\tthis.classes.add(`to-${classify(visit.animation.name)}`);\n\t\t}\n\n\t\t// Wait for page before starting to animate out?\n\t\tif (visit.animation.wait) {\n\t\t\tawait page;\n\t\t}\n\n\t\t// Check if failed/aborted in the meantime\n\t\tif (visit.done) return;\n\n\t\t// Perform the actual transition: animate and replace content\n\t\tawait this.hooks.call('visit:transition', visit, undefined, async () => {\n\t\t\t// No animation? Just await page and render\n\t\t\tif (!visit.animation.animate) {\n\t\t\t\tawait this.hooks.call('animation:skip', undefined);\n\t\t\t\tawait this.renderPage(visit, await page);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Animate page out, render page, animate page in\n\t\t\tvisit.advance(VisitState.LEAVING);\n\t\t\tawait this.animatePageOut(visit);\n\t\t\tif (visit.animation.native && document.startViewTransition) {\n\t\t\t\tawait document.startViewTransition(\n\t\t\t\t\tasync () => await this.renderPage(visit, await page)\n\t\t\t\t).finished;\n\t\t\t} else {\n\t\t\t\tawait this.renderPage(visit, await page);\n\t\t\t}\n\t\t\tawait this.animatePageIn(visit);\n\t\t});\n\n\t\t// Check if failed/aborted in the meantime\n\t\tif (visit.done) return;\n\n\t\t// Finalize visit\n\t\tawait this.hooks.call('visit:end', visit, undefined, () => this.classes.clear());\n\t\tvisit.state = VisitState.COMPLETED;\n\t\tthis.navigating = false;\n\n\t\t/** Run eventually queued function */\n\t\tif (this.onVisitEnd) {\n\t\t\tthis.onVisitEnd();\n\t\t\tthis.onVisitEnd = undefined;\n\t\t}\n\t} catch (error) {\n\t\t// Return early if error is undefined or signals an aborted request\n\t\tif (!error || (error as FetchError)?.aborted) {\n\t\t\tvisit.state = VisitState.ABORTED;\n\t\t\treturn;\n\t\t}\n\n\t\tvisit.state = VisitState.FAILED;\n\n\t\t// Log to console as we swallow almost all hook errors\n\t\tconsole.error(error);\n\n\t\t// Rewrite `skipPopStateHandling` to redirect manually when `history.go` is processed\n\t\tthis.options.skipPopStateHandling = () => {\n\t\t\twindow.location.href = visit.to.url + visit.to.hash;\n\t\t\treturn true;\n\t\t};\n\n\t\t// Go back to the actual page we're still at\n\t\twindow.history.go(-1);\n\t}\n}\n", "import type Swup from '../Swup.js';\nimport type { Visit } from './Visit.js';\n\n/**\n * Perform the out/leave animation of the current page.\n * @returns Promise<void>\n */\nexport const animatePageOut = async function (this: Swup, visit: Visit) {\n\tawait this.hooks.call('animation:out:start', visit, undefined, () => {\n\t\tthis.classes.add('is-changing', 'is-animating', 'is-leaving');\n\t});\n\n\tawait this.hooks.call('animation:out:await', visit, { skip: false }, (visit, { skip }) => {\n\t\tif (skip) return;\n\t\treturn this.awaitAnimations({ selector: visit.animation.selector });\n\t});\n\n\tawait this.hooks.call('animation:out:end', visit, undefined);\n};\n", "import type Swup from '../Swup.js';\nimport type { Options } from '../Swup.js';\nimport { query, queryAll } from '../utils.js';\nimport type { PageData } from './fetchPage.js';\n\n/**\n * Perform the replacement of content after loading a page.\n *\n * It takes an object with the page data as returned from `fetchPage` and a list\n * of container selectors to replace.\n *\n * @returns Whether all containers were replaced.\n */\nexport const replaceContent = function (\n\tthis: Swup,\n\t{ html }: PageData,\n\t{ containers }: { containers: Options['containers'] } = this.options\n): boolean {\n\tconst incomingDocument = new DOMParser().parseFromString(html, 'text/html');\n\n\t// Update browser title\n\tconst title = incomingDocument.querySelector('title')?.innerText || '';\n\tdocument.title = title;\n\n\t// Save persisted elements\n\tconst persistedElements = queryAll('[data-swup-persist]:not([data-swup-persist=\"\"])');\n\n\t// Update content containers\n\tconst replaced = containers\n\t\t.map((selector) => {\n\t\t\tconst currentEl = document.querySelector(selector);\n\t\t\tconst incomingEl = incomingDocument.querySelector(selector);\n\t\t\tif (currentEl && incomingEl) {\n\t\t\t\tcurrentEl.replaceWith(incomingEl);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (!currentEl) {\n\t\t\t\tconsole.warn(`[swup] Container missing in current document: ${selector}`);\n\t\t\t}\n\t\t\tif (!incomingEl) {\n\t\t\t\tconsole.warn(`[swup] Container missing in incoming document: ${selector}`);\n\t\t\t}\n\t\t\treturn false;\n\t\t})\n\t\t.filter(Boolean);\n\n\t// Restore persisted elements\n\tpersistedElements.forEach((existing) => {\n\t\tconst key = existing.getAttribute('data-swup-persist');\n\t\tconst replacement = query(`[data-swup-persist=\"${key}\"]`);\n\t\tif (replacement && replacement !== existing) {\n\t\t\treplacement.replaceWith(existing);\n\t\t}\n\t});\n\n\t// Return true if all containers were replaced\n\treturn replaced.length === containers.length;\n};\n", "import type Swup from '../Swup.js';\nimport type { Visit } from './Visit.js';\n\n/**\n * Update the scroll position after page render.\n * @returns Promise<boolean>\n */\nexport const scrollToContent = function (this: Swup, visit: Visit): boolean {\n\tconst options: ScrollIntoViewOptions = { behavior: 'auto' };\n\tconst { target, reset } = visit.scroll;\n\tconst scrollTarget = target ?? visit.to.hash;\n\n\tlet scrolled = false;\n\n\tif (scrollTarget) {\n\t\tscrolled = this.hooks.callSync(\n\t\t\t'scroll:anchor',\n\t\t\tvisit,\n\t\t\t{ hash: scrollTarget, options },\n\t\t\t(visit, { hash, options }) => {\n\t\t\t\tconst anchor = this.getAnchorElement(hash);\n\t\t\t\tif (anchor) {\n\t\t\t\t\tanchor.scrollIntoView(options);\n\t\t\t\t}\n\t\t\t\treturn !!anchor;\n\t\t\t}\n\t\t);\n\t}\n\n\tif (reset && !scrolled) {\n\t\tscrolled = this.hooks.callSync('scroll:top', visit, { options }, (visit, { options }) => {\n\t\t\twindow.scrollTo({ top: 0, left: 0, ...options });\n\t\t\treturn true;\n\t\t});\n\t}\n\n\treturn scrolled;\n};\n", "import type Swup from '../Swup.js';\nimport { nextTick } from '../utils.js';\nimport type { Visit } from './Visit.js';\n\n/**\n * Perform the in/enter animation of the next page.\n * @returns Promise<void>\n */\nexport const animatePageIn = async function (this: Swup, visit: Visit) {\n\t// Check if failed/aborted in the meantime\n\tif (visit.done) return;\n\n\tconst animation = this.hooks.call(\n\t\t'animation:in:await',\n\t\tvisit,\n\t\t{ skip: false },\n\t\t(visit, { skip }) => {\n\t\t\tif (skip) return;\n\t\t\treturn this.awaitAnimations({ selector: visit.animation.selector });\n\t\t}\n\t);\n\n\tawait nextTick();\n\n\tawait this.hooks.call('animation:in:start', visit, undefined, () => {\n\t\tthis.classes.remove('is-animating');\n\t});\n\n\tawait animation;\n\n\tawait this.hooks.call('animation:in:end', visit, undefined);\n};\n", "import { updateHistoryRecord, getCurrentUrl, classify } from '../helpers.js';\nimport type Swup from '../Swup.js';\nimport type { PageData } from './fetchPage.js';\nimport { VisitState, type Visit } from './Visit.js';\n\n/**\n * Render the next page: replace the content and update scroll position.\n */\nexport const renderPage = async function (this: Swup, visit: Visit, page: PageData): Promise<void> {\n\t// Check if failed/aborted in the meantime\n\tif (visit.done) return;\n\n\tvisit.advance(VisitState.ENTERING);\n\n\tconst { url } = page;\n\n\tthis.classes.remove('is-leaving');\n\n\t// update state if the url was redirected\n\tif (!this.isSameResolvedUrl(getCurrentUrl(), url)) {\n\t\tupdateHistoryRecord(url);\n\t\tthis.currentPageUrl = getCurrentUrl();\n\t\tvisit.to.url = this.currentPageUrl;\n\t}\n\n\t// only add for animated page loads\n\tif (visit.animation.animate) {\n\t\tthis.classes.add('is-rendering');\n\t}\n\n\t// replace content: allow handlers and plugins to overwrite paga data and containers\n\tawait this.hooks.call('content:replace', visit, { page }, (visit, { page }) => {\n\t\tconst success = this.replaceContent(page, { containers: visit.containers });\n\t\tif (!success) {\n\t\t\tthrow new Error('[swup] Container mismatch, aborting');\n\t\t}\n\t\tif (visit.animation.animate) {\n\t\t\t// Make sure to add these classes to new containers as well\n\t\t\tthis.classes.add('is-changing', 'is-animating', 'is-rendering');\n\t\t\tif (visit.animation.name) {\n\t\t\t\tthis.classes.add(`to-${classify(visit.animation.name)}`);\n\t\t\t}\n\t\t}\n\t});\n\n\t// scroll into view: either anchor or top of page\n\tawait this.hooks.call('content:scroll', visit, undefined, () => {\n\t\treturn this.scrollToContent(visit);\n\t});\n\n\tawait this.hooks.call('page:view', visit, { url: this.currentPageUrl, title: document.title });\n};\n", "import type Swup from '../Swup.js';\n\nexport type Plugin = {\n\t/** Identify as a swup plugin */\n\tisSwupPlugin: true;\n\t/** Name of this plugin */\n\tname: string;\n\t/** Version of this plugin. Currently not in use, defined here for backward compatiblity. */\n\tversion?: string;\n\t/** The swup instance that mounted this plugin */\n\tswup?: Swup;\n\t/** Version requirements of this plugin. Example: `{ swup: '>=4' }` */\n\trequires?: Record<string, string | string[]>;\n\t/** Run on mount */\n\tmount: () => void;\n\t/** Run on unmount */\n\tunmount: () => void;\n\t_beforeMount?: () => void;\n\t_afterUnmount?: () => void;\n\t_checkRequirements?: () => boolean;\n};\n\nconst isSwupPlugin = (maybeInvalidPlugin: unknown): maybeInvalidPlugin is Plugin => {\n\t// @ts-ignore: this might be anything, object or no\n\treturn Boolean(maybeInvalidPlugin?.isSwupPlugin);\n};\n\n/** Install a plugin. */\nexport const use = function (this: Swup, plugin: unknown) {\n\tif (!isSwupPlugin(plugin)) {\n\t\tconsole.error('Not a swup plugin instance', plugin);\n\t\treturn;\n\t}\n\n\tplugin.swup = this;\n\tif (plugin._checkRequirements) {\n\t\tif (!plugin._checkRequirements()) {\n\t\t\treturn;\n\t\t}\n\t}\n\tif (plugin._beforeMount) {\n\t\tplugin._beforeMount();\n\t}\n\tplugin.mount();\n\n\tthis.plugins.push(plugin);\n\n\treturn this.plugins;\n};\n\n/** Uninstall a plugin. */\nexport function unuse(this: Swup, pluginOrName: Plugin | string) {\n\tconst plugin = this.findPlugin(pluginOrName);\n\tif (!plugin) {\n\t\tconsole.error('No such plugin', plugin);\n\t\treturn;\n\t}\n\n\tplugin.unmount();\n\tif (plugin._afterUnmount) {\n\t\tplugin._afterUnmount();\n\t}\n\n\tthis.plugins = this.plugins.filter((p) => p !== plugin);\n\n\treturn this.plugins;\n}\n\n/** Find a plugin by name or reference. */\nexport function findPlugin(this: Swup, pluginOrName: Plugin | string) {\n\treturn this.plugins.find(\n\t\t(plugin) =>\n\t\t\tplugin === pluginOrName ||\n\t\t\tplugin.name === pluginOrName ||\n\t\t\tplugin.name === `Swup${String(pluginOrName)}`\n\t);\n}\n", "import type Swup from '../Swup.js';\n\n/**\n * Utility function to validate and run the global option 'resolveUrl'\n * @param {string} url\n * @returns {string} the resolved url\n */\nexport function resolveUrl(this: Swup, url: string): string {\n\tif (typeof this.options.resolveUrl !== 'function') {\n\t\tconsole.warn(`[swup] options.resolveUrl expects a callback function.`);\n\t\treturn url;\n\t}\n\tconst result = this.options.resolveUrl(url);\n\tif (!result || typeof result !== 'string') {\n\t\tconsole.warn(`[swup] options.resolveUrl needs to return a url`);\n\t\treturn url;\n\t}\n\tif (result.startsWith('//') || result.startsWith('http')) {\n\t\tconsole.warn(`[swup] options.resolveUrl needs to return a relative url`);\n\t\treturn url;\n\t}\n\treturn result;\n}\n\n/**\n * Compares the resolved version of two paths and returns true if they are the same\n * @param {string} url1\n * @param {string} url2\n * @returns {boolean}\n */\nexport function isSameResolvedUrl(this: Swup, url1: string, url2: string): boolean {\n\treturn this.resolveUrl(url1) === this.resolveUrl(url2);\n}\n", "import { type DelegateEvent } from 'delegate-it';\n\nimport version from './config/version.js';\n\nimport { delegateEvent, getCurrentUrl, Location, updateHistoryRecord } from './helpers.js';\nimport { type DelegateEventUnsubscribe } from './helpers/delegateEvent.js';\n\nimport { Cache } from './modules/Cache.js';\nimport { Classes } from './modules/Classes.js';\nimport { type Visit, createVisit } from './modules/Visit.js';\nimport { Hooks } from './modules/Hooks.js';\nimport { getAnchorElement } from './modules/getAnchorElement.js';\nimport { awaitAnimations } from './modules/awaitAnimations.js';\nimport { navigate, performNavigation, type NavigationToSelfAction } from './modules/navigate.js';\nimport { fetchPage } from './modules/fetchPage.js';\nimport { animatePageOut } from './modules/animatePageOut.js';\nimport { replaceContent } from './modules/replaceContent.js';\nimport { scrollToContent } from './modules/scrollToContent.js';\nimport { animatePageIn } from './modules/animatePageIn.js';\nimport { renderPage } from './modules/renderPage.js';\nimport { use, unuse, findPlugin, type Plugin } from './modules/plugins.js';\nimport { isSameResolvedUrl, resolveUrl } from './modules/resolveUrl.js';\nimport { nextTick } from './utils.js';\nimport { type HistoryState } from './helpers/history.js';\n\n/** Options for customizing swup's behavior. */\nexport type Options = {\n\t/** Whether history visits are animated. Default: `false` */\n\tanimateHistoryBrowsing: boolean;\n\t/** Selector for detecting animation timing. Default: `[class*=\"transition-\"]` */\n\tanimationSelector: string | false;\n\t/** Elements on which to add animation classes. Default: `html` element */\n\tanimationScope: 'html' | 'containers';\n\t/** Enable in-memory page cache. Default: `true` */\n\tcache: boolean;\n\t/** Content containers to be replaced on page visits. Default: `['#swup']` */\n\tcontainers: string[];\n\t/** Callback for ignoring visits. Receives the element and event that triggered the visit. */\n\tignoreVisit: (url: string, { el, event }: { el?: Element; event?: Event }) => boolean;\n\t/** Selector for links that trigger visits. Default: `'a[href]'` */\n\tlinkSelector: string;\n\t/** How swup handles links to the same page. Default: `scroll` */\n\tlinkToSelf: NavigationToSelfAction;\n\t/** Enable native animations using the View Transitions API. */\n\tnative: boolean;\n\t/** Plugins to register on startup. */\n\tplugins: Plugin[];\n\t/** Custom headers sent along with fetch requests. */\n\trequestHeaders: Record<string, string>;\n\t/** Rewrite URLs before loading them. */\n\tresolveUrl: (url: string) => string;\n\t/** Callback for telling swup to ignore certain popstate events.  */\n\tskipPopStateHandling: (event: PopStateEvent) => boolean;\n\t/** Request timeout in milliseconds. */\n\ttimeout: number;\n};\n\nconst defaults: Options = {\n\tanimateHistoryBrowsing: false,\n\tanimationSelector: '[class*=\"transition-\"]',\n\tanimationScope: 'html',\n\tcache: true,\n\tcontainers: ['#swup'],\n\tignoreVisit: (url, { el } = {}) => !!el?.closest('[data-no-swup]'),\n\tlinkSelector: 'a[href]',\n\tlinkToSelf: 'scroll',\n\tnative: false,\n\tplugins: [],\n\tresolveUrl: (url) => url,\n\trequestHeaders: {\n\t\t'X-Requested-With': 'swup',\n\t\t'Accept': 'text/html, application/xhtml+xml'\n\t},\n\tskipPopStateHandling: (event) => (event.state as HistoryState)?.source !== 'swup',\n\ttimeout: 0\n};\n\n/** Swup page transition library. */\nexport default class Swup {\n\t/** Library version */\n\treadonly version: string = version;\n\t/** Options passed into the instance */\n\toptions: Options;\n\t/** Default options before merging user options */\n\treadonly defaults: Options = defaults;\n\t/** Registered plugin instances */\n\tplugins: Plugin[] = [];\n\t/** Data about the current visit */\n\tvisit: Visit;\n\t/** Cache instance */\n\treadonly cache: Cache;\n\t/** Hook registry */\n\treadonly hooks: Hooks;\n\t/** Animation class manager */\n\treadonly classes: Classes;\n\t/** URL of the currently visible page */\n\tcurrentPageUrl: string = getCurrentUrl();\n\t/** Index of the current history entry */\n\tprotected currentHistoryIndex: number;\n\t/** Delegated event subscription handle */\n\tprotected clickDelegate?: DelegateEventUnsubscribe;\n\t/** Navigation status */\n\tprotected navigating: boolean = false;\n\t/** Run anytime a visit ends */\n\tprotected onVisitEnd?: () => Promise<unknown>;\n\n\t/** Install a plugin */\n\tuse = use;\n\t/** Uninstall a plugin */\n\tunuse = unuse;\n\t/** Find a plugin by name or instance */\n\tfindPlugin = findPlugin;\n\n\t/** Log a message. Has no effect unless debug plugin is installed */\n\tlog: (message: string, context?: unknown) => void = () => {};\n\n\t/** Navigate to a new URL */\n\tnavigate = navigate;\n\t/** Actually perform a navigation */\n\tprotected performNavigation = performNavigation;\n\t/** Create a new context for this visit */\n\tprotected createVisit = createVisit;\n\t/** Register a delegated event listener */\n\tdelegateEvent = delegateEvent;\n\t/** Fetch a page from the server */\n\tfetchPage = fetchPage;\n\t/** Resolve when animations on the page finish */\n\tawaitAnimations = awaitAnimations;\n\tprotected renderPage = renderPage;\n\t/** Replace the content after page load */\n\treplaceContent = replaceContent;\n\tprotected animatePageIn = animatePageIn;\n\tprotected animatePageOut = animatePageOut;\n\tprotected scrollToContent = scrollToContent;\n\t/** Find the anchor element for a given hash */\n\tgetAnchorElement = getAnchorElement;\n\n\t/** Get the current page URL */\n\tgetCurrentUrl = getCurrentUrl;\n\t/** Resolve a URL to its final location */\n\tresolveUrl = resolveUrl;\n\t/** Check if two URLs resolve to the same location */\n\tprotected isSameResolvedUrl = isSameResolvedUrl;\n\n\tconstructor(options: Partial<Options> = {}) {\n\t\t// Merge defaults and options\n\t\tthis.options = { ...this.defaults, ...options };\n\n\t\tthis.handleLinkClick = this.handleLinkClick.bind(this);\n\t\tthis.handlePopState = this.handlePopState.bind(this);\n\n\t\tthis.cache = new Cache(this);\n\t\tthis.classes = new Classes(this);\n\t\tthis.hooks = new Hooks(this);\n\t\tthis.visit = this.createVisit({ to: '' });\n\n\t\tthis.currentHistoryIndex = (history.state as HistoryState)?.index ?? 1;\n\n\t\tif (!this.checkRequirements()) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.enable();\n\t}\n\n\tprotected checkRequirements() {\n\t\tif (typeof Promise === 'undefined') {\n\t\t\tconsole.warn('Promise is not supported');\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\t/** Enable this instance, adding listeners and classnames. */\n\tasync enable() {\n\t\t// Add event listener\n\t\tconst { linkSelector } = this.options;\n\t\tthis.clickDelegate = this.delegateEvent(linkSelector, 'click', this.handleLinkClick);\n\n\t\twindow.addEventListener('popstate', this.handlePopState);\n\n\t\t// Set scroll restoration to manual if animating history visits\n\t\tif (this.options.animateHistoryBrowsing) {\n\t\t\twindow.history.scrollRestoration = 'manual';\n\t\t}\n\n\t\t// Initial save to cache\n\t\tif (this.options.cache) {\n\t\t\t// Disabled to avoid caching modified dom state: logic moved to preload plugin\n\t\t\t// https://github.com/swup/swup/issues/475\n\t\t}\n\n\t\t// Sanitize/check native option\n\t\tthis.options.native = this.options.native && !!document.startViewTransition;\n\n\t\t// Mount plugins\n\t\tthis.options.plugins.forEach((plugin) => this.use(plugin));\n\n\t\t// Create initial history record\n\t\tif ((history.state as HistoryState)?.source !== 'swup') {\n\t\t\tupdateHistoryRecord(null, { index: this.currentHistoryIndex });\n\t\t}\n\n\t\t// Give consumers a chance to hook into enable\n\t\tawait nextTick();\n\n\t\t// Trigger enable hook\n\t\tawait this.hooks.call('enable', undefined, undefined, () => {\n\t\t\tconst html = document.documentElement;\n\t\t\thtml.classList.add('swup-enabled');\n\t\t\thtml.classList.toggle('swup-native', this.options.native);\n\t\t});\n\t}\n\n\t/** Disable this instance, removing listeners and classnames. */\n\tasync destroy() {\n\t\t// remove delegated listener\n\t\tthis.clickDelegate!.destroy();\n\n\t\t// remove popstate listener\n\t\twindow.removeEventListener('popstate', this.handlePopState);\n\n\t\t// empty cache\n\t\tthis.cache.clear();\n\n\t\t// unmount plugins\n\t\tthis.options.plugins.forEach((plugin) => this.unuse(plugin));\n\n\t\t// trigger disable hook\n\t\tawait this.hooks.call('disable', undefined, undefined, () => {\n\t\t\tconst html = document.documentElement;\n\t\t\thtml.classList.remove('swup-enabled');\n\t\t\thtml.classList.remove('swup-native');\n\t\t});\n\n\t\t// remove handlers\n\t\tthis.hooks.clear();\n\t}\n\n\t/** Determine if a visit should be ignored by swup, based on URL or trigger element. */\n\tshouldIgnoreVisit(href: string, { el, event }: { el?: Element; event?: Event } = {}) {\n\t\tconst { origin, url, hash } = Location.fromUrl(href);\n\n\t\t// Ignore if the new origin doesn't match the current one\n\t\tif (origin !== window.location.origin) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Ignore if the link/form would open a new window (or none at all)\n\t\tif (el && this.triggerWillOpenNewWindow(el)) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Ignore if the visit should be ignored as per user options\n\t\tif (this.options.ignoreVisit(url + hash, { el, event })) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Finally, allow the visit\n\t\treturn false;\n\t}\n\n\tprotected handleLinkClick(event: DelegateEvent<MouseEvent>) {\n\t\tconst el = event.delegateTarget as HTMLAnchorElement;\n\t\tconst { href, url, hash } = Location.fromElement(el);\n\n\t\t// Exit early if the link should be ignored\n\t\tif (this.shouldIgnoreVisit(href, { el, event })) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Ignore if swup is currently navigating towards the link's URL\n\t\tif (this.navigating && url === this.visit.to.url) {\n\t\t\tevent.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tconst visit = this.createVisit({ to: url, hash, el, event });\n\n\t\t// Exit early if control key pressed\n\t\tif (event.metaKey || event.ctrlKey || event.shiftKey || event.altKey) {\n\t\t\tthis.hooks.callSync('link:newtab', visit, { href });\n\t\t\treturn;\n\t\t}\n\n\t\t// Exit early if other than left mouse button\n\t\tif (event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.hooks.callSync('link:click', visit, { el, event }, () => {\n\t\t\tconst from = visit.from.url ?? '';\n\n\t\t\tevent.preventDefault();\n\n\t\t\t// Handle links to the same page\n\t\t\tif (!url || url === from) {\n\t\t\t\tif (hash) {\n\t\t\t\t\t// With hash: scroll to anchor\n\t\t\t\t\tthis.hooks.callSync('link:anchor', visit, { hash }, () => {\n\t\t\t\t\t\tupdateHistoryRecord(url + hash);\n\t\t\t\t\t\tthis.scrollToContent(visit);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// Without hash: scroll to top or load/reload page\n\t\t\t\t\tthis.hooks.callSync('link:self', visit, undefined, () => {\n\t\t\t\t\t\tif (this.options.linkToSelf === 'navigate') {\n\t\t\t\t\t\t\tthis.performNavigation(visit);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tupdateHistoryRecord(url);\n\t\t\t\t\t\t\tthis.scrollToContent(visit);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Exit early if the resolved path hasn't changed\n\t\t\tif (this.isSameResolvedUrl(url, from)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Finally, proceed with loading the page\n\t\t\tthis.performNavigation(visit);\n\t\t});\n\t}\n\n\tprotected handlePopState(event: PopStateEvent) {\n\t\tconst href: string = (event.state as HistoryState)?.url ?? location.href;\n\n\t\t// Exit early if this event should be ignored\n\t\tif (this.options.skipPopStateHandling(event)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Exit early if the resolved path hasn't changed\n\t\tif (this.isSameResolvedUrl(getCurrentUrl(), this.currentPageUrl)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { url, hash } = Location.fromUrl(href);\n\n\t\tconst visit = this.createVisit({ to: url, hash, event });\n\n\t\t// Mark as history visit\n\t\tvisit.history.popstate = true;\n\n\t\t// Determine direction of history visit\n\t\tconst index = (event.state as HistoryState)?.index ?? 0;\n\t\tif (index && index !== this.currentHistoryIndex) {\n\t\t\tconst direction = index - this.currentHistoryIndex > 0 ? 'forwards' : 'backwards';\n\t\t\tvisit.history.direction = direction;\n\t\t\tthis.currentHistoryIndex = index;\n\t\t}\n\n\t\t// Disable animation & scrolling for history visits\n\t\tvisit.animation.animate = false;\n\t\tvisit.scroll.reset = false;\n\t\tvisit.scroll.target = false;\n\n\t\t// Animated history visit: re-enable animation & scroll reset\n\t\tif (this.options.animateHistoryBrowsing) {\n\t\t\tvisit.animation.animate = true;\n\t\t\tvisit.scroll.reset = true;\n\t\t}\n\n\t\tthis.hooks.callSync('history:popstate', visit, { event }, () => {\n\t\t\tthis.performNavigation(visit);\n\t\t});\n\t}\n\n\t/** Determine whether an element will open a new tab when clicking/activating. */\n\tprotected triggerWillOpenNewWindow(triggerEl: Element) {\n\t\tif (triggerEl.matches('[download], [target=\"_blank\"]')) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n", "//because changing page dynamic with swup\r\n\r\nexport const languageSwitcher = () => {\r\n  jQuery(($) => {\r\n    $.ajax({\r\n      type: 'POST',\r\n      url: cyn_head_script.url,\r\n      data: {\r\n        _nonce: cyn_head_script.nonce,\r\n        action: 'cyn_languages',\r\n      },\r\n\r\n      success: (res) => {\r\n        document.body.classList.toggle('cyn-is-rtl', res.langAttr.is_rtl !== 0);\r\n      },\r\n    });\r\n  });\r\n};\r\n", "import { addListener } from '../utils/functions';\r\nimport { startLoading, endLoading } from '../modules/loading';\r\n\r\nexport const SearchPage = () => {\r\n  const searchPage = document.getElementById('searchPage');\r\n  if (!searchPage) return;\r\n\r\n  const urlParams = new URLSearchParams(window.location.search);\r\n  const post_type = urlParams.get('post_type') ?? 'default';\r\n\r\n  const currentRadio = document.querySelector(\r\n    `input[type=\"radio\"][value=${post_type}]`\r\n  );\r\n\r\n  currentRadio.checked = true;\r\n\r\n  searchPageAjax();\r\n};\r\n\r\nconst searchPageAjax = () => {\r\n  const postsContainer = document.getElementById('postsContainer');\r\n  const foundPostsEl = document.getElementById('foundPosts');\r\n  const searchPageForm = document.getElementById('searchPageForm');\r\n  const searchPageInput = document.getElementById('searchPageInput');\r\n  const searchRadioGroup = document.querySelectorAll('input[type=\"radio\"]');\r\n\r\n  addListener(searchPageInput, 'keyup', () =>\r\n    searchPageForm.dispatchEvent(\r\n      new Event('submit', { bubbles: false, cancelable: false })\r\n    )\r\n  );\r\n\r\n  searchRadioGroup.forEach((el) => {\r\n    addListener(el, 'change', () =>\r\n      searchPageForm.dispatchEvent(\r\n        new Event('submit', { bubbles: false, cancelable: false })\r\n      )\r\n    );\r\n  });\r\n\r\n  addListener(searchPageForm, 'submit', (e) =>\r\n    ajaxSearchQuery(e, postsContainer, foundPostsEl)\r\n  );\r\n};\r\n\r\nlet timeOut;\r\nconst ajaxSearchQuery = (e, postsContainer, foundPostsEl) => {\r\n  e.preventDefault();\r\n\r\n  startLoading();\r\n  clearTimeout(timeOut);\r\n\r\n  const formData = new FormData(e.currentTarget, e.submitter);\r\n  formData.append('action', 'cyn_ajax_search_page');\r\n  formData.append('_nonce', cyn_head_script.nonce);\r\n\r\n  timeOut = setTimeout(() => {\r\n    jQuery(($) => {\r\n      $.ajax({\r\n        type: 'POST',\r\n        url: cyn_head_script.url,\r\n        cache: false,\r\n        processData: false,\r\n        contentType: false,\r\n        data: formData,\r\n\r\n        success: (res) => {\r\n          postsContainer.innerHTML = res.html;\r\n          foundPostsEl.innerText = res.foundPosts;\r\n\r\n          endLoading();\r\n        },\r\n      });\r\n    });\r\n  }, 1000);\r\n};\r\n", "import Swup from 'swup';\r\nimport { showMoreFunc } from './show-more';\r\nimport { loadMore } from './load-more';\r\nimport { Gallery } from './gallery';\r\nimport { archiveSort } from './archive-sort';\r\nimport { logicBreadcrumb } from './breadcrumb';\r\nimport { defineSwipers } from './swiper';\r\nimport { archiveFilter } from './archive-filter';\r\nimport { menu } from './menu';\r\nimport { LikePost } from './like-post';\r\nimport { sharePost } from './share-post';\r\nimport { Comments } from './comments';\r\nimport { ContactUs, ReservePopUp } from './forms';\r\nimport { headerBg } from './header';\r\nimport { languageSwitcher } from './language-switcher';\r\nimport { ajaxSearch } from './ajax-search';\r\nimport { SearchPage } from '../pages/search';\r\nimport { story } from './story';\r\n\r\nconst swup = new Swup({\r\n\tanimateHistoryBrowsing: true,\r\n\tcache: false,\r\n});\r\n\r\nconst init = () => {\r\n\tshowMoreFunc();\r\n\tloadMore();\r\n\tGallery();\r\n\tarchiveSort();\r\n\tlogicBreadcrumb();\r\n\tdefineSwipers();\r\n\tarchiveFilter();\r\n\tmenu();\r\n\tLikePost();\r\n\tsharePost();\r\n\tComments();\r\n\tReservePopUp();\r\n\tContactUs();\r\n\theaderBg();\r\n\tlanguageSwitcher();\r\n\tajaxSearch();\r\n\tSearchPage();\r\n\tstory();\r\n};\r\n\r\ninit();\r\n\r\nswup.hooks.on('content:replace', init);\r\n"],
  "mappings": "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",
  "names": ["cynActivate", "deActivateEl", "nodeEl", "cynActivate", "activateEl", "toggleActivateEl", "current", "deActivateAll", "parentNode", "node", "activateFirstEl", "addListener", "elementNode", "eventType", "func", "definePopUp", "setCookie", "cookieName", "cookieValue", "expireDays", "d", "expires", "getCookie", "name", "ca", "i", "c", "showMassage", "status", "parentEl", "innerText", "span", "changeButtonStatus", "btn", "ajaxSearch", "searchForm", "searchInput", "ajaxSearchResultWrapper", "ajaxSearchResult", "ajaxSearchLoading", "ajaxSearchViewAll", "ajaxSearchClose", "timeOut", "addListener", "e", "activateEl", "value", "deActivateEl", "$", "response", "loading", "definePopUp", "startLoading", "activateEl", "endLoading", "deActivateEl", "loadMore", "loadMoreBTN", "dataset", "startLoading", "$", "__spreadValues", "res", "endLoading", "initLoadMore", "postType", "maxNumPages", "queryArgs", "arg", "archiveFilter", "selectFilter", "postsContainer", "slug", "dataset", "startLoading", "$", "__spreadValues", "res", "initLoadMore", "endLoading", "archiveSort", "radioInputs", "postsContainer", "postsCount", "input", "order", "postType", "meta", "startLoading", "$", "res", "initLoadMore", "endLoading", "logicBreadcrumb", "separator", "iElement", "Comments", "commentOpener", "commentOpenerIcon", "commentList", "commentCloser", "definePopUp", "addListener", "activateEl", "deActivateEl", "addNewCommentForm", "parentId", "parentDiv", "parentText", "closeReply", "replyButtons", "commentsMessage", "button", "e", "formData", "$", "res", "setWarningComment", "setSuccessComment", "setErrorComment", "span", "Gallery", "gallery", "featureImage", "thumbnails", "moreImages", "galleryPopUp", "closeGallery", "thumb", "key", "thumbs", "deActivateAll", "activateEl", "e", "activateFirstEl", "deActivateEl", "definePopUp", "headerBg", "headerEl", "LikePost", "likePostGroup", "el", "count", "addListener", "$", "__spreadValues", "isUserLiked", "likeCount", "activateEl", "deActivateEl", "cookieManagement", "postId", "cookies", "getCookie", "addPostToCookie", "setCookie", "removePostFromCookie", "menu", "mobileMenu", "menuOpener", "menuCloser", "menuItemHasChildren", "deActivateEl", "definePopUp", "addListener", "activateEl", "el", "e", "toggleActivateEl", "addGridWrapper", "submenu", "div", "scrollers", "addAnimation", "scroller", "scrollerInner", "item", "duplicatedItem", "duplicatedItem2", "ajaxSendForm", "formEl", "action", "e", "changeButtonStatus", "formData", "$", "res", "showMassage", "ContactUs", "contactUsPage", "contactForm", "addListener", "ReservePopUp", "reservePopUp", "reservePopUpForm", "reservePopUpOpener", "reservePopUpCloser", "definePopUp", "activateEl", "deActivateEl", "sharePost", "shareAction", "title", "addListener", "btnShowMore", "divShowMore", "showMoreFunc", "isObject", "obj", "extend", "target", "src", "key", "ssrDocument", "getDocument", "doc", "ssrWindow", "callback", "id", "getWindow", "win", "classesToTokens", "classes", "c", "deleteProps", "obj", "object", "key", "e", "nextTick", "callback", "delay", "now", "getComputedStyle", "el", "window", "getWindow", "style", "getTranslate", "axis", "matrix", "curTransform", "transformMatrix", "curStyle", "a", "isObject", "o", "isNode", "node", "extend", "to", "noExtend", "i", "nextSource", "keysArray", "nextIndex", "len", "nextKey", "desc", "setCSSProperty", "varName", "varValue", "animateCSSModeScroll", "_ref", "swiper", "targetPosition", "side", "startPosition", "startTime", "time", "duration", "dir", "isOutOfBound", "current", "target", "animate", "progress", "easeProgress", "currentPosition", "elementChildren", "element", "selector", "el", "showWarning", "text", "err", "createElement", "tag", "classes", "classesToTokens", "elementPrevAll", "el", "selector", "prevEls", "prev", "elementNextAll", "nextEls", "next", "elementStyle", "prop", "getWindow", "elementIndex", "child", "i", "elementParents", "parents", "parent", "elementOuterSize", "el", "size", "includeMargins", "window", "getWindow", "support", "calcSupport", "window", "getWindow", "document", "getDocument", "getSupport", "deviceCached", "calcDevice", "_temp", "userAgent", "platform", "ua", "device", "screenWidth", "screenHeight", "android", "ipad", "ipod", "iphone", "windows", "macos", "iPadScreens", "getDevice", "overrides", "browser", "calcBrowser", "needPerspectiveFix", "isSafari", "major", "minor", "num", "getBrowser", "Resize", "_ref", "swiper", "on", "emit", "observer", "animationFrame", "resizeHandler", "createObserver", "entries", "width", "height", "newWidth", "newHeight", "_ref2", "contentBoxSize", "contentRect", "target", "removeObserver", "orientationChangeHandler", "Observer", "extendParams", "observers", "attach", "options", "ObserverFunc", "mutations", "observerUpdate", "init", "containerParents", "elementParents", "i", "destroy", "eventsEmitter", "events", "handler", "priority", "self", "method", "event", "onceHandler", "_len", "args", "_key", "index", "eventHandler", "data", "context", "_len2", "_key2", "updateSize", "el", "elementStyle", "updateSlides", "getDirectionPropertyValue", "node", "label", "params", "wrapperEl", "slidesEl", "swiperSize", "rtl", "wrongRTL", "isVirtual", "previousSlidesLength", "slides", "elementChildren", "slidesLength", "snapGrid", "slidesGrid", "slidesSizesGrid", "offsetBefore", "offsetAfter", "previousSnapGridLength", "previousSlidesGridLength", "spaceBetween", "slidePosition", "prevSlideSize", "slideEl", "setCSSProperty", "gridEnabled", "slideSize", "shouldResetSlideSize", "key", "slide", "slideStyles", "currentTransform", "currentWebKitTransform", "elementOuterSize", "paddingLeft", "paddingRight", "marginLeft", "marginRight", "boxSizing", "clientWidth", "offsetWidth", "newSlidesGrid", "slidesGridItem", "size", "groups", "groupSize", "_", "slideIndex", "allSlidesSize", "slideSizeValue", "maxSnap", "snap", "allSlidesOffset", "snapIndex", "addToSnapGrid", "addToSlidesGrid", "v", "backFaceHiddenClass", "hasClassBackfaceClassAdded", "updateAutoHeight", "speed", "activeSlides", "getSlideByIndex", "updateSlidesOffset", "minusOffset", "updateSlidesProgress", "translate", "offsetCenter", "slideOffset", "slideProgress", "originalSlideProgress", "slideBefore", "slideAfter", "isFullyVisible", "updateProgress", "multiplier", "translatesDiff", "progress", "isBeginning", "isEnd", "progressLoop", "wasBeginning", "wasEnd", "isBeginningRounded", "isEndRounded", "firstSlideIndex", "lastSlideIndex", "firstSlideTranslate", "lastSlideTranslate", "translateMax", "translateAbs", "updateSlidesClasses", "activeIndex", "getFilteredSlide", "selector", "activeSlide", "prevSlide", "nextSlide", "elementNextAll", "elementPrevAll", "processLazyPreloader", "imageEl", "slideSelector", "lazyEl", "unlazy", "preload", "amount", "len", "slidesPerView", "activeColumn", "preloadColumns", "slideIndexLastInView", "realIndex", "getActiveIndexByTranslate", "updateActiveIndex", "newActiveIndex", "previousIndex", "previousRealIndex", "previousSnapIndex", "getVirtualRealIndex", "aIndex", "skip", "firstSlideInColumn", "activeSlideIndex", "updateClickedSlide", "path", "pathEl", "slideFound", "update", "getSwiperTranslate", "axis", "currentTranslate", "getTranslate", "setTranslate", "byController", "x", "y", "z", "newProgress", "minTranslate", "maxTranslate", "translateTo", "runCallbacks", "translateBounds", "internal", "newTranslate", "isH", "animateCSSModeScroll", "e", "setTransition", "duration", "transitionEmit", "direction", "step", "dir", "transitionStart", "transitionEnd", "transition", "slideTo", "initial", "enabled", "normalizedTranslate", "normalizedGrid", "normalizedGridNext", "t", "slideToLoop", "newIndex", "targetSlideIndex", "cols", "centeredSlides", "needLoopFix", "slideNext", "animating", "perGroup", "increment", "slidePrev", "rtlTranslate", "normalize", "val", "normalizedSnapGrid", "prevSnap", "prevSnapIndex", "prevIndex", "lastIndex", "slideReset", "slideToClosest", "threshold", "currentSnap", "nextSnap", "slideToClickedSlide", "slideToIndex", "nextTick", "loopCreate", "slideRealIndex", "initSlides", "slidesPerGroup", "shouldFillGroup", "shouldFillGrid", "addBlankSlides", "amountOfSlides", "createElement", "slidesToAdd", "showWarning", "loopFix", "byMousewheel", "allowSlidePrev", "allowSlideNext", "loopedSlides", "prependSlidesIndexes", "appendSlidesIndexes", "isNext", "isPrev", "slidesPrepended", "slidesAppended", "activeColIndexWithShift", "colIndexToPrepend", "currentSlideTranslate", "diff", "shift", "loopParams", "c", "__spreadProps", "__spreadValues", "loopDestroy", "newSlidesOrder", "loop", "setGrabCursor", "moving", "unsetGrabCursor", "grabCursor", "closestElement", "base", "__closestFrom", "found", "preventEdgeSwipe", "startX", "edgeSwipeDetection", "edgeSwipeThreshold", "onTouchStart", "touches", "targetEl", "swipingClassHasValue", "eventPath", "noSwipingSelector", "isTargetShadow", "startY", "now", "preventDefault", "shouldPreventDefault", "onTouchMove", "targetTouch", "pageX", "pageY", "diffX", "diffY", "__pow", "touchAngle", "touchesDiff", "prevTouchesDirection", "isLoop", "allowLoopFix", "evt", "loopFixed", "disableParentSwiper", "resistanceRatio", "onTouchEnd", "touchEndTime", "timeDiff", "pathTree", "currentPos", "swipeToLast", "stopIndex", "rewindFirstIndex", "rewindLastIndex", "ratio", "onResize", "isVirtualLoop", "onClick", "onScroll", "onLoad", "onDocumentTouchStart", "capture", "domMethod", "swiperMethod", "attachEvents", "detachEvents", "events$1", "isGridEnabled", "setBreakpoint", "initialized", "breakpoints", "breakpoint", "breakpointParams", "wasMultiRow", "isMultiRow", "wasEnabled", "prop", "wasModuleEnabled", "isModuleEnabled", "directionChanged", "needsReLoop", "wasLoop", "extend", "isEnabled", "hasLoop", "getBreakpoint", "containerEl", "currentHeight", "points", "point", "minRatio", "a", "b", "value", "prepareClasses", "prefix", "resultClasses", "item", "classNames", "addClasses", "suffixes", "removeClasses", "classes", "checkOverflow", "wasLocked", "slidesOffsetBefore", "lastSlideRightEdge", "checkOverflow$1", "defaults", "moduleExtendParams", "allModulesParams", "obj", "moduleParamName", "moduleParams", "prototypes", "extendedDefaults", "Swiper", "_Swiper", "swipers", "newParams", "mod", "swiperParams", "eventName", "property", "elementIndex", "min", "current", "cls", "className", "updates", "view", "exact", "spv", "breakLoop", "translateValue", "translated", "newDirection", "needUpdate", "currentDirection", "element", "getWrapperSelector", "lazyElements", "deleteInstance", "cleanStyles", "deleteProps", "newDefaults", "modules", "module", "m", "prototypeGroup", "protoMethod", "createElementIfNotDefined", "swiper", "originalParams", "params", "checkProps", "key", "element", "elementChildren", "createElement", "classesToSelector", "classes", "Pagination", "_ref", "swiper", "extendParams", "on", "emit", "pfx", "number", "bulletSize", "dynamicBulletIndex", "makeElementsArray", "el", "e", "isPaginationDisabled", "setSideBullets", "bulletEl", "position", "bulletActiveClass", "onBulletClick", "classesToSelector", "index", "elementIndex", "update", "rtl", "params", "current", "previousIndex", "slidesLength", "total", "bullets", "firstIndex", "lastIndex", "midIndex", "elementOuterSize", "subEl", "classesToRemove", "suffix", "s", "bullet", "bulletIndex", "firstDisplayedBullet", "lastDisplayedBullet", "i", "dynamicBulletsLength", "bulletsOffset", "offsetProp", "subElIndex", "fractionEl", "totalEl", "progressbarDirection", "scale", "scaleX", "scaleY", "progressEl", "render", "paginationHTML", "numberOfBullets", "init", "createElementIfNotDefined", "elementParents", "destroy", "disable", "_s", "targetEl", "isHidden", "enable", "story", "homePageTours", "videos", "homePageToursSwiper", "Swiper", "playPause", "video", "handleClick", "target", "clickedSlide", "clickedIndex", "activeIndex", "slideTo", "slides", "addListener", "e", "percent", "defineSwipers", "gallerySwiper", "Swiper", "Pagination", "homePageTestimonials", "ledger", "editLedger", "wanted", "baseElement", "callback", "setup", "_a", "_b", "elementMap", "setups", "existed", "safeClosest", "event", "selector", "target", "closest", "delegate", "type", "options", "signal", "base", "once", "nativeListenerOptions", "__objRest", "capture", "listenerFn", "delegateTarget", "delegateEvent", "delegate_default", "classify", "text", "fallback", "String", "toLowerCase", "replace", "getCurrentUrl", "hash", "location", "pathname", "search", "createHistoryRecord", "url", "data", "state", "_extends", "random", "Math", "source", "history", "pushState", "updateHistoryRecord", "replaceState", "delegateEvent", "selector", "type", "callback", "options", "controller", "AbortController", "signal", "delegate", "destroy", "abort", "Location", "URL", "constructor", "base", "document", "baseURI", "super", "toString", "Object", "setPrototypeOf", "this", "prototype", "el", "href", "getAttribute", "FetchError", "Error", "constructor", "message", "details", "super", "this", "url", "status", "aborted", "timedOut", "name", "async", "fetchPage", "__async", "options", "_options$timeout", "Location", "fromUrl", "visit", "headers", "_extends", "requestHeaders", "timeout", "controller", "AbortController", "signal", "response", "timeoutId", "setTimeout", "abort", "hooks", "call", "fetch", "clearTimeout", "error", "responseUrl", "html", "text", "finalUrl", "page", "cache", "write", "method", "set", "Cache", "swup", "pages", "Map", "size", "all", "copy", "forEach", "key", "has", "resolve", "get", "result", "callSync", "update", "payload", "delete", "clear", "undefined", "prune", "predicate", "urlToResolve", "resolveUrl", "query", "selector", "context", "document", "querySelector", "queryAll", "Array", "from", "querySelectorAll", "nextTick", "Promise", "requestAnimationFrame", "isPromise", "obj", "then", "runAsPromise", "func", "args", "reject", "escapeCssIdentifier", "ident", "window", "CSS", "escape", "toMs", "s", "Number", "slice", "replace", "Classes", "constructor", "swup", "this", "swupClasses", "selectors", "scope", "visit", "animation", "containers", "Array", "isArray", "selector", "join", "targets", "trim", "queryAll", "add", "classes", "forEach", "target", "classList", "remove", "clear", "className", "split", "filter", "c", "isSwupClass", "some", "startsWith", "Visit", "options", "id", "state", "from", "to", "trigger", "cache", "history", "scroll", "currentPageUrl", "hash", "el", "event", "Math", "random", "url", "animate", "wait", "name", "native", "animationScope", "animationSelector", "read", "write", "action", "popstate", "direction", "undefined", "reset", "advance", "abort", "done", "createVisit", "Hooks", "registry", "Map", "hooks", "init", "hook", "create", "has", "set", "exists", "get", "ledger", "console", "error", "on", "handler", "warn", "registration", "_extends", "size", "off", "before", "once", "delete", "arg1", "arg2", "arg3", "args", "defaultHandler", "parseCallArgs", "after", "getHandlers", "run", "result", "dispatchDomEvent", "callSync", "runSync", "registrations", "results", "runAsPromise", "push", "isPromise", "found", "replaced", "values", "sort", "sortRegistrations", "T", "length", "index", "createDefaultHandler", "next", "a", "b", "_a$priority", "_b$priority", "priority", "detail", "document", "dispatchEvent", "CustomEvent", "bubbles", "getAnchorElement", "charAt", "substring", "decoded", "decodeURIComponent", "element", "getElementById", "query", "body", "TRANSITION", "ANIMATION", "async", "awaitAnimations", "elements", "animatedElements", "awaitedAnimations", "map", "type", "timeout", "propCount", "expectedType", "styles", "getComputedStyle", "transitionDelays", "getStyleProperties", "transitionDurations", "transitionTimeout", "calculateTimeout", "animationDelays", "animationDurations", "animationTimeout", "max", "Promise", "resolve", "endEvent", "startTime", "performance", "now", "propsTransitioned", "end", "removeEventListener", "onEnd", "includes", "Error", "elapsedTime", "setTimeout", "addEventListener", "Boolean", "all", "key", "delays", "durations", "concat", "duration", "i", "navigate", "shouldIgnoreVisit", "location", "href", "Location", "fromUrl", "performNavigation", "__async", "navigating", "onVisitEnd", "call", "referrer", "getAttribute", "_options$cache$read", "_options$cache$write", "page", "cachedPage", "fetchPage", "then", "html", "newUrl", "updateHistoryRecord", "currentHistoryIndex", "createHistoryRecord", "getCurrentUrl", "classify", "renderPage", "animatePageOut", "startViewTransition", "finished", "animatePageIn", "aborted", "skipPopStateHandling", "go", "skip", "replaceContent", "_incomingDocument$que", "incomingDocument", "DOMParser", "parseFromString", "title", "querySelector", "innerText", "persistedElements", "currentEl", "incomingEl", "replaceWith", "existing", "replacement", "scrollToContent", "behavior", "scrollTarget", "scrolled", "anchor", "scrollIntoView", "scrollTo", "top", "left", "nextTick", "isSameResolvedUrl", "use", "plugin", "maybeInvalidPlugin", "isSwupPlugin", "_checkRequirements", "_beforeMount", "mount", "plugins", "unuse", "pluginOrName", "findPlugin", "unmount", "_afterUnmount", "p", "find", "String", "resolveUrl", "url1", "url2", "defaults", "animateHistoryBrowsing", "ignoreVisit", "closest", "linkSelector", "linkToSelf", "requestHeaders", "Accept", "_event$state", "source", "Swup", "_history$state$index", "_history$state", "version", "clickDelegate", "log", "delegateEvent", "handleLinkClick", "bind", "handlePopState", "Cache", "checkRequirements", "enable", "_history$state2", "scrollRestoration", "documentElement", "toggle", "destroy", "origin", "triggerWillOpenNewWindow", "delegateTarget", "fromElement", "preventDefault", "metaKey", "ctrlKey", "shiftKey", "altKey", "button", "_visit$from$url", "_event$state$url", "_event$state2", "_event$state$index", "_event$state3", "triggerEl", "matches", "languageSwitcher", "$", "res", "SearchPage", "_a", "post_type", "currentRadio", "searchPageAjax", "postsContainer", "foundPostsEl", "searchPageForm", "searchPageInput", "searchRadioGroup", "addListener", "el", "e", "ajaxSearchQuery", "timeOut", "startLoading", "formData", "$", "res", "endLoading", "swup", "_", "init", "showMoreFunc", "loadMore", "Gallery", "archiveSort", "logicBreadcrumb", "defineSwipers", "archiveFilter", "menu", "LikePost", "sharePost", "Comments", "ReservePopUp", "ContactUs", "headerBg", "languageSwitcher", "ajaxSearch", "SearchPage", "story"]
}
